{"id":"mo03","dependencies":[{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\Session.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\package.json","includedInParent":true,"mtime":1632614243327},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1632612132843},{"name":"events","loc":{"line":4,"column":25},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\events\\events.js"},{"name":"@inrupt/solid-client-authn-core","loc":{"line":5,"column":42},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-core\\dist\\index.js"},{"name":"uuid","loc":{"line":6,"column":23},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\uuid\\dist\\esm-browser\\index.js"},{"name":"./dependencies","loc":{"line":7,"column":31},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\dependencies.js"},{"name":"./constant","loc":{"line":8,"column":27},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\constant.js"},{"name":"./iframe","loc":{"line":9,"column":25},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\Session.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\iframe.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Session=exports.silentlyAuthenticate=void 0;const e=require(\"events\"),t=require(\"@inrupt/solid-client-authn-core\"),i=require(\"uuid\"),n=require(\"./dependencies\"),s=require(\"./constant\"),o=require(\"./iframe\");async function r(e,t,i={inIframe:!1},n){var o;const r=await t.validateCurrentSession();return null!==r&&(window.localStorage.setItem(s.KEY_CURRENT_URL,window.location.href),await t.login({sessionId:e,prompt:\"none\",oidcIssuer:r.issuer,redirectUrl:r.redirectUrl,clientId:r.clientAppId,clientSecret:r.clientAppSecret,tokenType:null!==(o=r.tokenType)&&void 0!==o?o:\"DPoP\",inIframe:i.inIframe},n),!0)}function c(e){return!!(null==e?void 0:e.isLoggedIn)}exports.silentlyAuthenticate=r;class a extends e.EventEmitter{constructor(e={},t){super(),this.tokenRequestInProgress=!1,this.tmpFetchWithCookies=!1,this.login=(async e=>{var t;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...e,tokenType:null!==(t=e.tokenType)&&void 0!==t?t:\"DPoP\"},this),new Promise(()=>void 0)}),this.fetch=(async(e,t)=>this.clientAuthentication.fetch(e,{...t,credentials:this.tmpFetchWithCookies?\"include\":null==t?void 0:t.credentials})),this.logout=(async()=>{await this.clientAuthentication.logout(this.info.sessionId),this.info.isLoggedIn=!1,this.tmpFetchWithCookies=!1,this.emit(\"logout\")}),this.handleIncomingRedirect=(async(e={})=>{var t;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const i=\"string\"==typeof e?{url:e}:e,n=null!==(t=i.url)&&void 0!==t?t:window.location.href;if(null!==window.frameElement)return void o.postRedirectUrlToParent(n);!0!==i.useEssSession||!0===i.restorePreviousSession?window.localStorage.setItem(\"tmp-resource-server-session-enabled\",\"false\"):window.localStorage.setItem(\"tmp-resource-server-session-enabled\",\"true\");const a=window.localStorage.getItem(\"tmp-resource-server-session-info\");if(\"string\"==typeof a&&!0!==i.restorePreviousSession&&!0===i.useEssSession){const e=JSON.parse(a);if(function(e){var t;const i=Object.keys(null!==(t=e.sessions)&&void 0!==t?t:{});return\"string\"==typeof e.webId&&i.length>0&&\"number\"==typeof e.sessions[i[0]].expiration}(e)){const t=Object.keys(e.sessions),i=new URL(e.webId).hostname,n=t.find(e=>new URL(e).hostname===i),s=null!=n?n:t[0];if(e.sessions[s].expiration-Date.now()>3e5)return this.info.isLoggedIn=!0,this.info.webId=e.webId,this.tmpFetchWithCookies=!0,this.info}}this.tokenRequestInProgress=!0;const l=await this.clientAuthentication.handleIncomingRedirect(n,this);if(c(l)){this.setSessionInfo(l);const e=window.localStorage.getItem(s.KEY_CURRENT_URL);null===e?this.emit(\"login\"):(window.localStorage.removeItem(s.KEY_CURRENT_URL),this.emit(\"sessionRestore\",e))}else if(!0===i.restorePreviousSession){const e=window.localStorage.getItem(s.KEY_CURRENT_SESSION);if(null!==e){if(await r(e,this.clientAuthentication,void 0,this))return new Promise(()=>{})}}return this.tokenRequestInProgress=!1,l}),e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=n.getClientAuthenticationWithDependencies({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=n.getClientAuthenticationWithDependencies({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId}:this.info={sessionId:null!=t?t:i.v4(),isLoggedIn:!1},o.setupIframeListener(async e=>{const t=await this.clientAuthentication.handleIncomingRedirect(e,this);c(t)&&this.setSessionInfo(t)}),this.on(\"tokenRenewal\",()=>r(this.info.sessionId,this.clientAuthentication,{inIframe:!0},this))}onLogin(e){this.on(\"login\",e)}onLogout(e){this.on(\"logout\",e)}onError(e){this.on(t.EVENTS.ERROR,e)}onSessionRestore(e){this.on(\"sessionRestore\",e)}onSessionExpiration(e){this.on(t.EVENTS.SESSION_EXPIRED,e)}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.on(t.EVENTS.SESSION_EXTENDED,e=>{this.info.expirationDate=Date.now()+1e3*e})}}exports.Session=a;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/Session.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":120}},{"source":"../src/Session.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":126}},{"source":"../src/Session.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":128}},{"source":"../src/Session.ts","name":null,"original":{"line":25,"column":0},"generated":{"line":1,"column":136}},{"source":"../src/Session.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":146}},{"source":"../src/Session.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":148}},{"source":"../src/Session.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":156}},{"source":"../src/Session.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":191}},{"source":"../src/Session.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":193}},{"source":"../src/Session.ts","name":null,"original":{"line":33,"column":0},"generated":{"line":1,"column":201}},{"source":"../src/Session.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":209}},{"source":"../src/Session.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":211}},{"source":"../src/Session.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":219}},{"source":"../src/Session.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":237}},{"source":"../src/Session.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":239}},{"source":"../src/Session.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":247}},{"source":"../src/Session.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":261}},{"source":"../src/Session.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":263}},{"source":"../src/Session.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":271}},{"source":"../src/Session.ts","name":null,"original":{"line":97,"column":7},"generated":{"line":1,"column":283}},{"source":"../src/Session.ts","name":null,"original":{"line":97,"column":22},"generated":{"line":1,"column":298}},{"source":"../src/Session.ts","name":null,"original":{"line":98,"column":2},"generated":{"line":1,"column":300}},{"source":"../src/Session.ts","name":null,"original":{"line":99,"column":2},"generated":{"line":1,"column":302}},{"source":"../src/Session.ts","name":null,"original":{"line":100,"column":2},"generated":{"line":1,"column":304}},{"source":"../src/Session.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":306}},{"source":"../src/Session.ts","name":null,"original":{"line":103,"column":4},"generated":{"line":1,"column":307}},{"source":"../src/Session.ts","name":null,"original":{"line":103,"column":14},"generated":{"line":1,"column":317}},{"source":"../src/Session.ts","name":null,"original":{"line":105,"column":2},"generated":{"line":1,"column":320}},{"source":"../src/Session.ts","name":null,"original":{"line":111,"column":2},"generated":{"line":1,"column":329}},{"source":"../src/Session.ts","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":335}},{"source":"../src/Session.ts","name":null,"original":{"line":111,"column":34},"generated":{"line":1,"column":343}},{"source":"../src/Session.ts","name":null,"original":{"line":111,"column":46},"generated":{"line":1,"column":345}},{"source":"../src/Session.ts","name":null,"original":{"line":112,"column":2},"generated":{"line":1,"column":370}},{"source":"../src/Session.ts","name":null,"original":{"line":112,"column":28},"generated":{"line":1,"column":377}},{"source":"../src/Session.ts","name":null,"original":{"line":112,"column":6},"generated":{"line":1,"column":384}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":4},"generated":{"line":1,"column":388}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":11},"generated":{"line":1,"column":395}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":24},"generated":{"line":1,"column":408}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":32},"generated":{"line":1,"column":416}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":32},"generated":{"line":1,"column":418}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":49},"generated":{"line":1,"column":434}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":56},"generated":{"line":1,"column":441}},{"source":"../src/Session.ts","name":null,"original":{"line":117,"column":65},"generated":{"line":1,"column":450}},{"source":"../src/Session.ts","name":null,"original":{"line":118,"column":10},"generated":{"line":1,"column":462}},{"source":"../src/Session.ts","name":null,"original":{"line":118,"column":22},"generated":{"line":1,"column":464}},{"source":"../src/Session.ts","name":null,"original":{"line":119,"column":6},"generated":{"line":1,"column":470}},{"source":"../src/Session.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":471}},{"source":"../src/Session.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":481}},{"source":"../src/Session.ts","name":null,"original":{"line":121,"column":8},"generated":{"line":1,"column":483}},{"source":"../src/Session.ts","name":null,"original":{"line":121,"column":16},"generated":{"line":1,"column":490}},{"source":"../src/Session.ts","name":null,"original":{"line":122,"column":8},"generated":{"line":1,"column":497}},{"source":"../src/Session.ts","name":null,"original":{"line":122,"column":20},"generated":{"line":1,"column":508}},{"source":"../src/Session.ts","name":null,"original":{"line":122,"column":38},"generated":{"line":1,"column":510}},{"source":"../src/Session.ts","name":null,"original":{"line":123,"column":8},"generated":{"line":1,"column":517}},{"source":"../src/Session.ts","name":null,"original":{"line":123,"column":21},"generated":{"line":1,"column":529}},{"source":"../src/Session.ts","name":null,"original":{"line":123,"column":39},"generated":{"line":1,"column":531}},{"source":"../src/Session.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":543}},{"source":"../src/Session.ts","name":null,"original":{"line":124,"column":18},"generated":{"line":1,"column":552}},{"source":"../src/Session.ts","name":null,"original":{"line":124,"column":36},"generated":{"line":1,"column":554}},{"source":"../src/Session.ts","name":null,"original":{"line":125,"column":8},"generated":{"line":1,"column":566}},{"source":"../src/Session.ts","name":null,"original":{"line":125,"column":22},"generated":{"line":1,"column":579}},{"source":"../src/Session.ts","name":null,"original":{"line":125,"column":40},"generated":{"line":1,"column":581}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":597}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":46},"generated":{"line":1,"column":607}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":615}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":617}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":37},"generated":{"line":1,"column":619}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":46},"generated":{"line":1,"column":636}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":46},"generated":{"line":1,"column":640}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":46},"generated":{"line":1,"column":642}},{"source":"../src/Session.ts","name":null,"original":{"line":126,"column":50},"generated":{"line":1,"column":644}},{"source":"../src/Session.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":651}},{"source":"../src/Session.ts","name":null,"original":{"line":127,"column":18},"generated":{"line":1,"column":660}},{"source":"../src/Session.ts","name":null,"original":{"line":127,"column":26},"generated":{"line":1,"column":662}},{"source":"../src/Session.ts","name":null,"original":{"line":129,"column":6},"generated":{"line":1,"column":672}},{"source":"../src/Session.ts","name":null,"original":{"line":131,"column":11},"generated":{"line":1,"column":676}},{"source":"../src/Session.ts","name":null,"original":{"line":136,"column":0},"generated":{"line":1,"column":679}},{"source":"../src/Session.ts","name":null,"original":{"line":136,"column":9},"generated":{"line":1,"column":688}},{"source":"../src/Session.ts","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":690}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":2},"generated":{"line":1,"column":693}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":702}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":708}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":22},"generated":{"line":1,"column":715}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":11},"generated":{"line":1,"column":717}},{"source":"../src/Session.ts","name":null,"original":{"line":139,"column":24},"generated":{"line":1,"column":719}},{"source":"../src/Session.ts","name":null,"original":{"line":97,"column":0},"generated":{"line":1,"column":731}},{"source":"../src/Session.ts","name":null,"original":{"line":97,"column":0},"generated":{"line":1,"column":739}},{"source":"../src/Session.ts","name":null,"original":{"line":97,"column":0},"generated":{"line":1,"column":760}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":762}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":13},"generated":{"line":1,"column":768}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":29},"generated":{"line":1,"column":778}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":29},"generated":{"line":1,"column":780}},{"source":"../src/Session.ts","name":null,"original":{"line":173,"column":2},"generated":{"line":1,"column":793}},{"source":"../src/Session.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":805}},{"source":"../src/Session.ts","name":null,"original":{"line":174,"column":47},"generated":{"line":1,"column":807}},{"source":"../src/Session.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":810}},{"source":"../src/Session.ts","name":null,"original":{"line":177,"column":4},"generated":{"line":1,"column":813}},{"source":"../src/Session.ts","name":null,"original":{"line":153,"column":10},"generated":{"line":1,"column":821}},{"source":"../src/Session.ts","name":null,"original":{"line":153,"column":10},"generated":{"line":1,"column":826}},{"source":"../src/Session.ts","name":null,"original":{"line":153,"column":35},"generated":{"line":1,"column":850}},{"source":"../src/Session.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":1,"column":852}},{"source":"../src/Session.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":1,"column":857}},{"source":"../src/Session.ts","name":null,"original":{"line":156,"column":32},"generated":{"line":1,"column":878}},{"source":"../src/Session.ts","name":null,"original":{"line":242,"column":2},"generated":{"line":1,"column":880}},{"source":"../src/Session.ts","name":null,"original":{"line":242,"column":2},"generated":{"line":1,"column":885}},{"source":"../src/Session.ts","name":null,"original":{"line":242,"column":10},"generated":{"line":1,"column":891}},{"source":"../src/Session.ts","name":null,"original":{"line":242,"column":17},"generated":{"line":1,"column":898}},{"source":"../src/Session.ts","name":null,"original":{"line":256,"column":4},"generated":{"line":1,"column":908}},{"source":"../src/Session.ts","name":null,"original":{"line":243,"column":10},"generated":{"line":1,"column":921}},{"source":"../src/Session.ts","name":null,"original":{"line":243,"column":15},"generated":{"line":1,"column":926}},{"source":"../src/Session.ts","name":null,"original":{"line":243,"column":36},"generated":{"line":1,"column":947}},{"source":"../src/Session.ts","name":null,"original":{"line":244,"column":6},"generated":{"line":1,"column":953}},{"source":"../src/Session.ts","name":null,"original":{"line":245,"column":8},"generated":{"line":1,"column":954}},{"source":"../src/Session.ts","name":null,"original":{"line":245,"column":19},"generated":{"line":1,"column":964}},{"source":"../src/Session.ts","name":null,"original":{"line":245,"column":24},"generated":{"line":1,"column":969}},{"source":"../src/Session.ts","name":null,"original":{"line":245,"column":29},"generated":{"line":1,"column":974}},{"source":"../src/Session.ts","name":null,"original":{"line":246,"column":11},"generated":{"line":1,"column":987}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":8},"generated":{"line":1,"column":989}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":36},"generated":{"line":1,"column":999}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":19},"generated":{"line":1,"column":1007}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":19},"generated":{"line":1,"column":1009}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":27},"generated":{"line":1,"column":1011}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":36},"generated":{"line":1,"column":1028}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":36},"generated":{"line":1,"column":1032}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":36},"generated":{"line":1,"column":1034}},{"source":"../src/Session.ts","name":null,"original":{"line":248,"column":40},"generated":{"line":1,"column":1036}},{"source":"../src/Session.ts","name":null,"original":{"line":250,"column":6},"generated":{"line":1,"column":1044}},{"source":"../src/Session.ts","name":null,"original":{"line":256,"column":11},"generated":{"line":1,"column":1050}},{"source":"../src/Session.ts","name":null,"original":{"line":256,"column":15},"generated":{"line":1,"column":1054}},{"source":"../src/Session.ts","name":null,"original":{"line":256,"column":23},"generated":{"line":1,"column":1062}},{"source":"../src/Session.ts","name":null,"original":{"line":256,"column":29},"generated":{"line":1,"column":1071}},{"source":"../src/Session.ts","name":null,"original":{"line":265,"column":2},"generated":{"line":1,"column":1076}},{"source":"../src/Session.ts","name":null,"original":{"line":265,"column":2},"generated":{"line":1,"column":1081}},{"source":"../src/Session.ts","name":null,"original":{"line":265,"column":10},"generated":{"line":1,"column":1087}},{"source":"../src/Session.ts","name":null,"original":{"line":265,"column":17},"generated":{"line":1,"column":1094}},{"source":"../src/Session.ts","name":null,"original":{"line":265,"column":35},"generated":{"line":1,"column":1096}},{"source":"../src/Session.ts","name":null,"original":{"line":266,"column":11},"generated":{"line":1,"column":1100}},{"source":"../src/Session.ts","name":null,"original":{"line":266,"column":16},"generated":{"line":1,"column":1105}},{"source":"../src/Session.ts","name":null,"original":{"line":266,"column":37},"generated":{"line":1,"column":1126}},{"source":"../src/Session.ts","name":null,"original":{"line":266,"column":43},"generated":{"line":1,"column":1132}},{"source":"../src/Session.ts","name":null,"original":{"line":266,"column":48},"generated":{"line":1,"column":1134}},{"source":"../src/Session.ts","name":null,"original":{"line":267,"column":9},"generated":{"line":1,"column":1138}},{"source":"../src/Session.ts","name":null,"original":{"line":268,"column":6},"generated":{"line":1,"column":1140}},{"source":"../src/Session.ts","name":null,"original":{"line":268,"column":19},"generated":{"line":1,"column":1152}},{"source":"../src/Session.ts","name":null,"original":{"line":268,"column":24},"generated":{"line":1,"column":1157}},{"source":"../src/Session.ts","name":null,"original":{"line":270,"column":10},"generated":{"line":1,"column":1177}},{"source":"../src/Session.ts","name":null,"original":{"line":272,"column":10},"generated":{"line":1,"column":1187}},{"source":"../src/Session.ts","name":null,"original":{"line":272,"column":10},"generated":{"line":1,"column":1193}},{"source":"../src/Session.ts","name":null,"original":{"line":272,"column":14},"generated":{"line":1,"column":1200}},{"source":"../src/Session.ts","name":null,"original":{"line":272,"column":10},"generated":{"line":1,"column":1202}},{"source":"../src/Session.ts","name":null,"original":{"line":272,"column":16},"generated":{"line":1,"column":1204}},{"source":"../src/Session.ts","name":null,"original":{"line":279,"column":2},"generated":{"line":1,"column":1219}},{"source":"../src/Session.ts","name":null,"original":{"line":279,"column":2},"generated":{"line":1,"column":1224}},{"source":"../src/Session.ts","name":null,"original":{"line":279,"column":11},"generated":{"line":1,"column":1231}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":10},"generated":{"line":1,"column":1248}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":15},"generated":{"line":1,"column":1253}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":36},"generated":{"line":1,"column":1274}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":43},"generated":{"line":1,"column":1281}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":48},"generated":{"line":1,"column":1286}},{"source":"../src/Session.ts","name":null,"original":{"line":280,"column":53},"generated":{"line":1,"column":1291}},{"source":"../src/Session.ts","name":null,"original":{"line":281,"column":4},"generated":{"line":1,"column":1302}},{"source":"../src/Session.ts","name":null,"original":{"line":281,"column":9},"generated":{"line":1,"column":1307}},{"source":"../src/Session.ts","name":null,"original":{"line":281,"column":14},"generated":{"line":1,"column":1312}},{"source":"../src/Session.ts","name":null,"original":{"line":281,"column":27},"generated":{"line":1,"column":1324}},{"source":"../src/Session.ts","name":null,"original":{"line":282,"column":4},"generated":{"line":1,"column":1326}},{"source":"../src/Session.ts","name":null,"original":{"line":282,"column":9},"generated":{"line":1,"column":1331}},{"source":"../src/Session.ts","name":null,"original":{"line":282,"column":31},"generated":{"line":1,"column":1352}},{"source":"../src/Session.ts","name":null,"original":{"line":283,"column":4},"generated":{"line":1,"column":1354}},{"source":"../src/Session.ts","name":null,"original":{"line":283,"column":9},"generated":{"line":1,"column":1359}},{"source":"../src/Session.ts","name":null,"original":{"line":283,"column":14},"generated":{"line":1,"column":1364}},{"source":"../src/Session.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1376}},{"source":"../src/Session.ts","name":null,"original":{"line":292,"column":2},"generated":{"line":1,"column":1381}},{"source":"../src/Session.ts","name":null,"original":{"line":292,"column":27},"generated":{"line":1,"column":1404}},{"source":"../src/Session.ts","name":null,"original":{"line":293,"column":4},"generated":{"line":1,"column":1411}},{"source":"../src/Session.ts","name":null,"original":{"line":293,"column":60},"generated":{"line":1,"column":1413}},{"source":"../src/Session.ts","name":null,"original":{"line":295,"column":4},"generated":{"line":1,"column":1425}},{"source":"../src/Session.ts","name":null,"original":{"line":295,"column":8},"generated":{"line":1,"column":1428}},{"source":"../src/Session.ts","name":null,"original":{"line":295,"column":13},"generated":{"line":1,"column":1433}},{"source":"../src/Session.ts","name":null,"original":{"line":295,"column":18},"generated":{"line":1,"column":1438}},{"source":"../src/Session.ts","name":null,"original":{"line":296,"column":6},"generated":{"line":1,"column":1449}},{"source":"../src/Session.ts","name":null,"original":{"line":296,"column":13},"generated":{"line":1,"column":1456}},{"source":"../src/Session.ts","name":null,"original":{"line":296,"column":18},"generated":{"line":1,"column":1461}},{"source":"../src/Session.ts","name":null,"original":{"line":299,"column":4},"generated":{"line":1,"column":1466}},{"source":"../src/Session.ts","name":null,"original":{"line":299,"column":8},"generated":{"line":1,"column":1469}},{"source":"../src/Session.ts","name":null,"original":{"line":299,"column":13},"generated":{"line":1,"column":1474}},{"source":"../src/Session.ts","name":null,"original":{"line":300,"column":6},"generated":{"line":1,"column":1497}},{"source":"../src/Session.ts","name":null,"original":{"line":302,"column":4},"generated":{"line":1,"column":1504}},{"source":"../src/Session.ts","name":null,"original":{"line":302,"column":10},"generated":{"line":1,"column":1510}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":30},"generated":{"line":1,"column":1512}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":13},"generated":{"line":1,"column":1529}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":41},"generated":{"line":1,"column":1531}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":43},"generated":{"line":1,"column":1532}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":48},"generated":{"line":1,"column":1536}},{"source":"../src/Session.ts","name":null,"original":{"line":303,"column":65},"generated":{"line":1,"column":1539}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":10},"generated":{"line":1,"column":1541}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":27},"generated":{"line":1,"column":1543}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":16},"generated":{"line":1,"column":1551}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":16},"generated":{"line":1,"column":1553}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":24},"generated":{"line":1,"column":1555}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":27},"generated":{"line":1,"column":1566}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":27},"generated":{"line":1,"column":1570}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":27},"generated":{"line":1,"column":1572}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":31},"generated":{"line":1,"column":1574}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":38},"generated":{"line":1,"column":1581}},{"source":"../src/Session.ts","name":null,"original":{"line":304,"column":47},"generated":{"line":1,"column":1590}},{"source":"../src/Session.ts","name":null,"original":{"line":306,"column":4},"generated":{"line":1,"column":1595}},{"source":"../src/Session.ts","name":null,"original":{"line":306,"column":32},"generated":{"line":1,"column":1598}},{"source":"../src/Session.ts","name":null,"original":{"line":306,"column":8},"generated":{"line":1,"column":1605}},{"source":"../src/Session.ts","name":null,"original":{"line":306,"column":15},"generated":{"line":1,"column":1612}},{"source":"../src/Session.ts","name":null,"original":{"line":310,"column":6},"generated":{"line":1,"column":1625}},{"source":"../src/Session.ts","name":null,"original":{"line":309,"column":6},"generated":{"line":1,"column":1637}},{"source":"../src/Session.ts","name":null,"original":{"line":309,"column":6},"generated":{"line":1,"column":1639}},{"source":"../src/Session.ts","name":null,"original":{"line":309,"column":30},"generated":{"line":1,"column":1663}},{"source":"../src/Session.ts","name":null,"original":{"line":322,"column":32},"generated":{"line":1,"column":1667}},{"source":"../src/Session.ts","name":null,"original":{"line":322,"column":6},"generated":{"line":1,"column":1671}},{"source":"../src/Session.ts","name":null,"original":{"line":322,"column":14},"generated":{"line":1,"column":1673}},{"source":"../src/Session.ts","name":null,"original":{"line":323,"column":41},"generated":{"line":1,"column":1689}},{"source":"../src/Session.ts","name":null,"original":{"line":323,"column":6},"generated":{"line":1,"column":1693}},{"source":"../src/Session.ts","name":null,"original":{"line":323,"column":14},"generated":{"line":1,"column":1695}},{"source":"../src/Session.ts","name":null,"original":{"line":325,"column":6},"generated":{"line":1,"column":1718}},{"source":"../src/Session.ts","name":null,"original":{"line":325,"column":13},"generated":{"line":1,"column":1725}},{"source":"../src/Session.ts","name":null,"original":{"line":325,"column":26},"generated":{"line":1,"column":1738}},{"source":"../src/Session.ts","name":null,"original":{"line":326,"column":8},"generated":{"line":1,"column":1746}},{"source":"../src/Session.ts","name":null,"original":{"line":327,"column":8},"generated":{"line":1,"column":1784}},{"source":"../src/Session.ts","name":null,"original":{"line":330,"column":6},"generated":{"line":1,"column":1793}},{"source":"../src/Session.ts","name":null,"original":{"line":330,"column":13},"generated":{"line":1,"column":1800}},{"source":"../src/Session.ts","name":null,"original":{"line":330,"column":26},"generated":{"line":1,"column":1813}},{"source":"../src/Session.ts","name":null,"original":{"line":331,"column":8},"generated":{"line":1,"column":1821}},{"source":"../src/Session.ts","name":null,"original":{"line":332,"column":8},"generated":{"line":1,"column":1859}},{"source":"../src/Session.ts","name":null,"original":{"line":335,"column":4},"generated":{"line":1,"column":1867}},{"source":"../src/Session.ts","name":null,"original":{"line":335,"column":10},"generated":{"line":1,"column":1873}},{"source":"../src/Session.ts","name":null,"original":{"line":335,"column":41},"generated":{"line":1,"column":1875}},{"source":"../src/Session.ts","name":null,"original":{"line":335,"column":48},"generated":{"line":1,"column":1882}},{"source":"../src/Session.ts","name":null,"original":{"line":335,"column":61},"generated":{"line":1,"column":1895}},{"source":"../src/Session.ts","name":null,"original":{"line":336,"column":6},"generated":{"line":1,"column":1903}},{"source":"../src/Session.ts","name":null,"original":{"line":338,"column":4},"generated":{"line":1,"column":1939}},{"source":"../src/Session.ts","name":null,"original":{"line":339,"column":46},"generated":{"line":1,"column":1942}},{"source":"../src/Session.ts","name":null,"original":{"line":339,"column":13},"generated":{"line":1,"column":1959}},{"source":"../src/Session.ts","name":null,"original":{"line":340,"column":41},"generated":{"line":1,"column":1963}},{"source":"../src/Session.ts","name":null,"original":{"line":340,"column":6},"generated":{"line":1,"column":1967}},{"source":"../src/Session.ts","name":null,"original":{"line":340,"column":14},"generated":{"line":1,"column":1969}},{"source":"../src/Session.ts","name":null,"original":{"line":341,"column":32},"generated":{"line":1,"column":1994}},{"source":"../src/Session.ts","name":null,"original":{"line":341,"column":6},"generated":{"line":1,"column":1998}},{"source":"../src/Session.ts","name":null,"original":{"line":341,"column":14},"generated":{"line":1,"column":2000}},{"source":"../src/Session.ts","name":null,"original":{"line":342,"column":6},"generated":{"line":1,"column":2014}},{"source":"../src/Session.ts","name":null,"original":{"line":361,"column":6},"generated":{"line":1,"column":2015}},{"source":"../src/Session.ts","name":null,"original":{"line":361,"column":12},"generated":{"line":1,"column":2021}},{"source":"../src/Session.ts","name":null,"original":{"line":361,"column":24},"generated":{"line":1,"column":2023}},{"source":"../src/Session.ts","name":null,"original":{"line":361,"column":29},"generated":{"line":1,"column":2028}},{"source":"../src/Session.ts","name":null,"original":{"line":361,"column":35},"generated":{"line":1,"column":2034}},{"source":"../src/Session.ts","name":null,"original":{"line":362,"column":6},"generated":{"line":1,"column":2037}},{"source":"../src/Session.ts","name":null,"original":{"line":347,"column":6},"generated":{"line":1,"column":2040}},{"source":"../src/Session.ts","name":null,"original":{"line":348,"column":8},"generated":{"line":1,"column":2049}},{"source":"../src/Session.ts","name":null,"original":{"line":350,"column":8},"generated":{"line":1,"column":2058}},{"source":"../src/Session.ts","name":null,"original":{"line":350,"column":14},"generated":{"line":1,"column":2064}},{"source":"../src/Session.ts","name":null,"original":{"line":350,"column":32},"generated":{"line":1,"column":2066}},{"source":"../src/Session.ts","name":null,"original":{"line":350,"column":39},"generated":{"line":1,"column":2073}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":55},"generated":{"line":1,"column":2078}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":10},"generated":{"line":1,"column":2086}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":11},"generated":{"line":1,"column":2088}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":47},"generated":{"line":1,"column":2090}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":55},"generated":{"line":1,"column":2106}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":55},"generated":{"line":1,"column":2110}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":55},"generated":{"line":1,"column":2112}},{"source":"../src/Session.ts","name":null,"original":{"line":351,"column":59},"generated":{"line":1,"column":2114}},{"source":"../src/Session.ts","name":null,"original":{"line":353,"column":8},"generated":{"line":1,"column":2118}},{"source":"../src/Session.ts","name":null,"original":{"line":354,"column":64},"generated":{"line":1,"column":2124}},{"source":"../src/Session.ts","name":null,"original":{"line":354,"column":18},"generated":{"line":1,"column":2141}},{"source":"../src/Session.ts","name":null,"original":{"line":354,"column":54},"generated":{"line":1,"column":2143}},{"source":"../src/Session.ts","name":null,"original":{"line":355,"column":10},"generated":{"line":1,"column":2150}},{"source":"../src/Session.ts","name":null,"original":{"line":355,"column":26},"generated":{"line":1,"column":2152}},{"source":"../src/Session.ts","name":null,"original":{"line":355,"column":35},"generated":{"line":1,"column":2159}},{"source":"../src/Session.ts","name":null,"original":{"line":358,"column":27},"generated":{"line":1,"column":2162}},{"source":"../src/Session.ts","name":null,"original":{"line":356,"column":18},"generated":{"line":1,"column":2179}},{"source":"../src/Session.ts","name":null,"original":{"line":356,"column":54},"generated":{"line":1,"column":2181}},{"source":"../src/Session.ts","name":null,"original":{"line":357,"column":12},"generated":{"line":1,"column":2190}},{"source":"../src/Session.ts","name":null,"original":{"line":357,"column":28},"generated":{"line":1,"column":2192}},{"source":"../src/Session.ts","name":null,"original":{"line":358,"column":12},"generated":{"line":1,"column":2196}},{"source":"../src/Session.ts","name":null,"original":{"line":362,"column":10},"generated":{"line":1,"column":2207}},{"source":"../src/Session.ts","name":null,"original":{"line":362,"column":40},"generated":{"line":1,"column":2208}},{"source":"../src/Session.ts","name":null,"original":{"line":362,"column":52},"generated":{"line":1,"column":2211}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":8},"generated":{"line":1,"column":2212}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":14},"generated":{"line":1,"column":2218}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":32},"generated":{"line":1,"column":2220}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":39},"generated":{"line":1,"column":2227}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":44},"generated":{"line":1,"column":2232}},{"source":"../src/Session.ts","name":null,"original":{"line":363,"column":54},"generated":{"line":1,"column":2234}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":14},"generated":{"line":1,"column":2244}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":28},"generated":{"line":1,"column":2246}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":32},"generated":{"line":1,"column":2250}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":36},"generated":{"line":1,"column":2254}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":46},"generated":{"line":1,"column":2256}},{"source":"../src/Session.ts","name":null,"original":{"line":364,"column":53},"generated":{"line":1,"column":2263}},{"source":"../src/Session.ts","name":null,"original":{"line":365,"column":14},"generated":{"line":1,"column":2272}},{"source":"../src/Session.ts","name":null,"original":{"line":365,"column":34},"generated":{"line":1,"column":2274}},{"source":"../src/Session.ts","name":null,"original":{"line":365,"column":50},"generated":{"line":1,"column":2276}},{"source":"../src/Session.ts","name":null,"original":{"line":365,"column":56},"generated":{"line":1,"column":2281}},{"source":"../src/Session.ts","name":null,"original":{"line":366,"column":17},"generated":{"line":1,"column":2284}},{"source":"../src/Session.ts","name":null,"original":{"line":366,"column":21},"generated":{"line":1,"column":2288}},{"source":"../src/Session.ts","name":null,"original":{"line":366,"column":25},"generated":{"line":1,"column":2292}},{"source":"../src/Session.ts","name":null,"original":{"line":366,"column":41},"generated":{"line":1,"column":2295}},{"source":"../src/Session.ts","name":null,"original":{"line":366,"column":54},"generated":{"line":1,"column":2306}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":14},"generated":{"line":1,"column":2309}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":31},"generated":{"line":1,"column":2311}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":31},"generated":{"line":1,"column":2317}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":31},"generated":{"line":1,"column":2319}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":52},"generated":{"line":1,"column":2321}},{"source":"../src/Session.ts","name":null,"original":{"line":371,"column":68},"generated":{"line":1,"column":2323}},{"source":"../src/Session.ts","name":null,"original":{"line":375,"column":8},"generated":{"line":1,"column":2326}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":10},"generated":{"line":1,"column":2329}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":20},"generated":{"line":1,"column":2331}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":29},"generated":{"line":1,"column":2340}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":45},"generated":{"line":1,"column":2343}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":58},"generated":{"line":1,"column":2354}},{"source":"../src/Session.ts","name":null,"original":{"line":376,"column":63},"generated":{"line":1,"column":2359}},{"source":"../src/Session.ts","name":null,"original":{"line":377,"column":10},"generated":{"line":1,"column":2365}},{"source":"../src/Session.ts","name":null,"original":{"line":382,"column":10},"generated":{"line":1,"column":2369}},{"source":"../src/Session.ts","name":null,"original":{"line":379,"column":10},"generated":{"line":1,"column":2376}},{"source":"../src/Session.ts","name":null,"original":{"line":379,"column":15},"generated":{"line":1,"column":2381}},{"source":"../src/Session.ts","name":null,"original":{"line":379,"column":20},"generated":{"line":1,"column":2386}},{"source":"../src/Session.ts","name":null,"original":{"line":379,"column":33},"generated":{"line":1,"column":2398}},{"source":"../src/Session.ts","name":null,"original":{"line":380,"column":10},"generated":{"line":1,"column":2400}},{"source":"../src/Session.ts","name":null,"original":{"line":380,"column":15},"generated":{"line":1,"column":2405}},{"source":"../src/Session.ts","name":null,"original":{"line":380,"column":20},"generated":{"line":1,"column":2410}},{"source":"../src/Session.ts","name":null,"original":{"line":380,"column":28},"generated":{"line":1,"column":2416}},{"source":"../src/Session.ts","name":null,"original":{"line":380,"column":38},"generated":{"line":1,"column":2418}},{"source":"../src/Session.ts","name":null,"original":{"line":381,"column":10},"generated":{"line":1,"column":2424}},{"source":"../src/Session.ts","name":null,"original":{"line":381,"column":15},"generated":{"line":1,"column":2429}},{"source":"../src/Session.ts","name":null,"original":{"line":381,"column":37},"generated":{"line":1,"column":2450}},{"source":"../src/Session.ts","name":null,"original":{"line":382,"column":17},"generated":{"line":1,"column":2452}},{"source":"../src/Session.ts","name":null,"original":{"line":382,"column":22},"generated":{"line":1,"column":2457}},{"source":"../src/Session.ts","name":null,"original":{"line":388,"column":4},"generated":{"line":1,"column":2463}},{"source":"../src/Session.ts","name":null,"original":{"line":388,"column":9},"generated":{"line":1,"column":2468}},{"source":"../src/Session.ts","name":null,"original":{"line":388,"column":34},"generated":{"line":1,"column":2492}},{"source":"../src/Session.ts","name":null,"original":{"line":389,"column":4},"generated":{"line":1,"column":2494}},{"source":"../src/Session.ts","name":null,"original":{"line":389,"column":10},"generated":{"line":1,"column":2500}},{"source":"../src/Session.ts","name":null,"original":{"line":389,"column":30},"generated":{"line":1,"column":2508}},{"source":"../src/Session.ts","name":null,"original":{"line":389,"column":35},"generated":{"line":1,"column":2513}},{"source":"../src/Session.ts","name":null,"original":{"line":389,"column":56},"generated":{"line":1,"column":2534}},{"source":"../src/Session.ts","name":null,"original":{"line":390,"column":6},"generated":{"line":1,"column":2557}},{"source":"../src/Session.ts","name":null,"original":{"line":391,"column":6},"generated":{"line":1,"column":2559}},{"source":"../src/Session.ts","name":null,"original":{"line":393,"column":4},"generated":{"line":1,"column":2565}},{"source":"../src/Session.ts","name":null,"original":{"line":393,"column":8},"generated":{"line":1,"column":2568}},{"source":"../src/Session.ts","name":null,"original":{"line":393,"column":19},"generated":{"line":1,"column":2570}},{"source":"../src/Session.ts","name":null,"original":{"line":393,"column":33},"generated":{"line":1,"column":2573}},{"source":"../src/Session.ts","name":null,"original":{"line":394,"column":6},"generated":{"line":1,"column":2574}},{"source":"../src/Session.ts","name":null,"original":{"line":394,"column":11},"generated":{"line":1,"column":2579}},{"source":"../src/Session.ts","name":null,"original":{"line":394,"column":26},"generated":{"line":1,"column":2594}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":6},"generated":{"line":1,"column":2597}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":12},"generated":{"line":1,"column":2603}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":25},"generated":{"line":1,"column":2605}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":32},"generated":{"line":1,"column":2612}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":45},"generated":{"line":1,"column":2625}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":53},"generated":{"line":1,"column":2633}},{"source":"../src/Session.ts","name":null,"original":{"line":395,"column":53},"generated":{"line":1,"column":2635}},{"source":"../src/Session.ts","name":null,"original":{"line":396,"column":25},"generated":{"line":1,"column":2652}},{"source":"../src/Session.ts","name":null,"original":{"line":396,"column":10},"generated":{"line":1,"column":2659}},{"source":"../src/Session.ts","name":null,"original":{"line":399,"column":8},"generated":{"line":1,"column":2661}},{"source":"../src/Session.ts","name":null,"original":{"line":399,"column":13},"generated":{"line":1,"column":2666}},{"source":"../src/Session.ts","name":null,"original":{"line":399,"column":18},"generated":{"line":1,"column":2671}},{"source":"../src/Session.ts","name":null,"original":{"line":404,"column":8},"generated":{"line":1,"column":2681}},{"source":"../src/Session.ts","name":null,"original":{"line":404,"column":15},"generated":{"line":1,"column":2688}},{"source":"../src/Session.ts","name":null,"original":{"line":404,"column":28},"generated":{"line":1,"column":2701}},{"source":"../src/Session.ts","name":null,"original":{"line":404,"column":39},"generated":{"line":1,"column":2712}},{"source":"../src/Session.ts","name":null,"original":{"line":404,"column":39},"generated":{"line":1,"column":2714}},{"source":"../src/Session.ts","name":null,"original":{"line":405,"column":8},"generated":{"line":1,"column":2731}},{"source":"../src/Session.ts","name":null,"original":{"line":405,"column":13},"generated":{"line":1,"column":2736}},{"source":"../src/Session.ts","name":null,"original":{"line":405,"column":18},"generated":{"line":1,"column":2741}},{"source":"../src/Session.ts","name":null,"original":{"line":405,"column":36},"generated":{"line":1,"column":2758}},{"source":"../src/Session.ts","name":null,"original":{"line":407,"column":11},"generated":{"line":1,"column":2767}},{"source":"../src/Session.ts","name":null,"original":{"line":407,"column":50},"generated":{"line":1,"column":2771}},{"source":"../src/Session.ts","name":null,"original":{"line":407,"column":15},"generated":{"line":1,"column":2775}},{"source":"../src/Session.ts","name":null,"original":{"line":407,"column":23},"generated":{"line":1,"column":2777}},{"source":"../src/Session.ts","name":null,"original":{"line":407,"column":56},"generated":{"line":1,"column":2800}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":6},"generated":{"line":1,"column":2801}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":12},"generated":{"line":1,"column":2807}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":30},"generated":{"line":1,"column":2809}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":37},"generated":{"line":1,"column":2816}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":50},"generated":{"line":1,"column":2829}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":58},"generated":{"line":1,"column":2837}},{"source":"../src/Session.ts","name":null,"original":{"line":413,"column":58},"generated":{"line":1,"column":2839}},{"source":"../src/Session.ts","name":null,"original":{"line":416,"column":6},"generated":{"line":1,"column":2860}},{"source":"../src/Session.ts","name":null,"original":{"line":416,"column":30},"generated":{"line":1,"column":2863}},{"source":"../src/Session.ts","name":null,"original":{"line":416,"column":10},"generated":{"line":1,"column":2870}},{"source":"../src/Session.ts","name":null,"original":{"line":416,"column":36},"generated":{"line":1,"column":2872}},{"source":"../src/Session.ts","name":null,"original":{"line":430,"column":8},"generated":{"line":1,"column":2873}},{"source":"../src/Session.ts","name":null,"original":{"line":420,"column":52},"generated":{"line":1,"column":2882}},{"source":"../src/Session.ts","name":null,"original":{"line":421,"column":10},"generated":{"line":1,"column":2884}},{"source":"../src/Session.ts","name":null,"original":{"line":422,"column":10},"generated":{"line":1,"column":2886}},{"source":"../src/Session.ts","name":null,"original":{"line":422,"column":15},"generated":{"line":1,"column":2891}},{"source":"../src/Session.ts","name":null,"original":{"line":423,"column":10},"generated":{"line":1,"column":2917}},{"source":"../src/Session.ts","name":null,"original":{"line":424,"column":10},"generated":{"line":1,"column":2919}},{"source":"../src/Session.ts","name":null,"original":{"line":431,"column":10},"generated":{"line":1,"column":2925}},{"source":"../src/Session.ts","name":null,"original":{"line":431,"column":17},"generated":{"line":1,"column":2932}},{"source":"../src/Session.ts","name":null,"original":{"line":431,"column":21},"generated":{"line":1,"column":2936}},{"source":"../src/Session.ts","name":null,"original":{"line":431,"column":29},"generated":{"line":1,"column":2944}},{"source":"../src/Session.ts","name":null,"original":{"line":436,"column":4},"generated":{"line":1,"column":2953}},{"source":"../src/Session.ts","name":null,"original":{"line":435,"column":4},"generated":{"line":1,"column":2960}},{"source":"../src/Session.ts","name":null,"original":{"line":435,"column":9},"generated":{"line":1,"column":2965}},{"source":"../src/Session.ts","name":null,"original":{"line":435,"column":34},"generated":{"line":1,"column":2989}},{"source":"../src/Session.ts","name":null,"original":{"line":436,"column":11},"generated":{"line":1,"column":2991}},{"source":"../src/Session.ts","name":null,"original":{"line":179,"column":8},"generated":{"line":1,"column":2995}},{"source":"../src/Session.ts","name":null,"original":{"line":179,"column":23},"generated":{"line":1,"column":2997}},{"source":"../src/Session.ts","name":null,"original":{"line":180,"column":6},"generated":{"line":1,"column":3018}},{"source":"../src/Session.ts","name":null,"original":{"line":180,"column":11},"generated":{"line":1,"column":3023}},{"source":"../src/Session.ts","name":null,"original":{"line":180,"column":34},"generated":{"line":1,"column":3044}},{"source":"../src/Session.ts","name":null,"original":{"line":180,"column":49},"generated":{"line":1,"column":3046}},{"source":"../src/Session.ts","name":null,"original":{"line":181,"column":15},"generated":{"line":1,"column":3067}},{"source":"../src/Session.ts","name":null,"original":{"line":181,"column":30},"generated":{"line":1,"column":3069}},{"source":"../src/Session.ts","name":null,"original":{"line":181,"column":47},"generated":{"line":1,"column":3084}},{"source":"../src/Session.ts","name":null,"original":{"line":181,"column":62},"generated":{"line":1,"column":3086}},{"source":"../src/Session.ts","name":null,"original":{"line":182,"column":6},"generated":{"line":1,"column":3102}},{"source":"../src/Session.ts","name":null,"original":{"line":182,"column":11},"generated":{"line":1,"column":3107}},{"source":"../src/Session.ts","name":null,"original":{"line":182,"column":34},"generated":{"line":1,"column":3128}},{"source":"../src/Session.ts","name":null,"original":{"line":182,"column":34},"generated":{"line":1,"column":3130}},{"source":"../src/Session.ts","name":null,"original":{"line":182,"column":74},"generated":{"line":1,"column":3170}},{"source":"../src/Session.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":1,"column":3171}},{"source":"../src/Session.ts","name":null,"original":{"line":183,"column":23},"generated":{"line":1,"column":3185}},{"source":"../src/Session.ts","name":null,"original":{"line":183,"column":38},"generated":{"line":1,"column":3187}},{"source":"../src/Session.ts","name":null,"original":{"line":184,"column":8},"generated":{"line":1,"column":3201}},{"source":"../src/Session.ts","name":null,"original":{"line":184,"column":25},"generated":{"line":1,"column":3217}},{"source":"../src/Session.ts","name":null,"original":{"line":184,"column":40},"generated":{"line":1,"column":3219}},{"source":"../src/Session.ts","name":null,"original":{"line":187,"column":6},"generated":{"line":1,"column":3237}},{"source":"../src/Session.ts","name":null,"original":{"line":187,"column":11},"generated":{"line":1,"column":3242}},{"source":"../src/Session.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":1,"column":3263}},{"source":"../src/Session.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":1,"column":3265}},{"source":"../src/Session.ts","name":null,"original":{"line":187,"column":74},"generated":{"line":1,"column":3305}},{"source":"../src/Session.ts","name":null,"original":{"line":190,"column":8},"generated":{"line":1,"column":3309}},{"source":"../src/Session.ts","name":null,"original":{"line":190,"column":23},"generated":{"line":1,"column":3311}},{"source":"../src/Session.ts","name":null,"original":{"line":191,"column":6},"generated":{"line":1,"column":3323}},{"source":"../src/Session.ts","name":null,"original":{"line":191,"column":11},"generated":{"line":1,"column":3328}},{"source":"../src/Session.ts","name":null,"original":{"line":191,"column":18},"generated":{"line":1,"column":3333}},{"source":"../src/Session.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":1,"column":3334}},{"source":"../src/Session.ts","name":null,"original":{"line":192,"column":19},"generated":{"line":1,"column":3344}},{"source":"../src/Session.ts","name":null,"original":{"line":192,"column":34},"generated":{"line":1,"column":3346}},{"source":"../src/Session.ts","name":null,"original":{"line":192,"column":46},"generated":{"line":1,"column":3358}},{"source":"../src/Session.ts","name":null,"original":{"line":193,"column":8},"generated":{"line":1,"column":3368}},{"source":"../src/Session.ts","name":null,"original":{"line":193,"column":20},"generated":{"line":1,"column":3380}},{"source":"../src/Session.ts","name":null,"original":{"line":194,"column":8},"generated":{"line":1,"column":3382}},{"source":"../src/Session.ts","name":null,"original":{"line":194,"column":15},"generated":{"line":1,"column":3388}},{"source":"../src/Session.ts","name":null,"original":{"line":194,"column":30},"generated":{"line":1,"column":3390}},{"source":"../src/Session.ts","name":null,"original":{"line":194,"column":42},"generated":{"line":1,"column":3402}},{"source":"../src/Session.ts","name":null,"original":{"line":197,"column":6},"generated":{"line":1,"column":3409}},{"source":"../src/Session.ts","name":null,"original":{"line":197,"column":11},"generated":{"line":1,"column":3414}},{"source":"../src/Session.ts","name":null,"original":{"line":197,"column":18},"generated":{"line":1,"column":3419}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":8},"generated":{"line":1,"column":3420}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":19},"generated":{"line":1,"column":3430}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":19},"generated":{"line":1,"column":3436}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":19},"generated":{"line":1,"column":3438}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":32},"generated":{"line":1,"column":3440}},{"source":"../src/Session.ts","name":null,"original":{"line":198,"column":32},"generated":{"line":1,"column":3442}},{"source":"../src/Session.ts","name":null,"original":{"line":199,"column":8},"generated":{"line":1,"column":3447}},{"source":"../src/Session.ts","name":null,"original":{"line":199,"column":20},"generated":{"line":1,"column":3459}},{"source":"../src/Session.ts","name":null,"original":{"line":204,"column":4},"generated":{"line":1,"column":3462}},{"source":"../src/Session.ts","name":null,"original":{"line":204,"column":4},"generated":{"line":1,"column":3464}},{"source":"../src/Session.ts","name":null,"original":{"line":204,"column":24},"generated":{"line":1,"column":3484}},{"source":"../src/Session.ts","name":null,"original":{"line":204,"column":31},"generated":{"line":1,"column":3490}},{"source":"../src/Session.ts","name":null,"original":{"line":205,"column":6},"generated":{"line":1,"column":3494}},{"source":"../src/Session.ts","name":null,"original":{"line":205,"column":12},"generated":{"line":1,"column":3500}},{"source":"../src/Session.ts","name":null,"original":{"line":206,"column":14},"generated":{"line":1,"column":3508}},{"source":"../src/Session.ts","name":null,"original":{"line":206,"column":19},"generated":{"line":1,"column":3513}},{"source":"../src/Session.ts","name":null,"original":{"line":206,"column":40},"generated":{"line":1,"column":3534}},{"source":"../src/Session.ts","name":null,"original":{"line":207,"column":10},"generated":{"line":1,"column":3557}},{"source":"../src/Session.ts","name":null,"original":{"line":208,"column":10},"generated":{"line":1,"column":3559}},{"source":"../src/Session.ts","name":null,"original":{"line":214,"column":11},"generated":{"line":1,"column":3565}},{"source":"../src/Session.ts","name":null,"original":{"line":214,"column":22},"generated":{"line":1,"column":3567}},{"source":"../src/Session.ts","name":null,"original":{"line":219,"column":6},"generated":{"line":1,"column":3571}},{"source":"../src/Session.ts","name":null,"original":{"line":219,"column":11},"generated":{"line":1,"column":3576}},{"source":"../src/Session.ts","name":null,"original":{"line":219,"column":26},"generated":{"line":1,"column":3591}},{"source":"../src/Session.ts","name":null,"original":{"line":222,"column":4},"generated":{"line":1,"column":3596}},{"source":"../src/Session.ts","name":null,"original":{"line":222,"column":9},"generated":{"line":1,"column":3601}},{"source":"../src/Session.ts","name":null,"original":{"line":222,"column":12},"generated":{"line":1,"column":3604}},{"source":"../src/Session.ts","name":null,"original":{"line":222,"column":28},"generated":{"line":1,"column":3619}},{"source":"../src/Session.ts","name":null,"original":{"line":223,"column":6},"generated":{"line":1,"column":3623}},{"source":"../src/Session.ts","name":null,"original":{"line":224,"column":8},"generated":{"line":1,"column":3625}},{"source":"../src/Session.ts","name":null,"original":{"line":224,"column":13},"generated":{"line":1,"column":3630}},{"source":"../src/Session.ts","name":null,"original":{"line":224,"column":18},"generated":{"line":1,"column":3635}},{"source":"../src/Session.ts","name":null,"original":{"line":225,"column":8},"generated":{"line":1,"column":3645}},{"source":"../src/Session.ts","name":null,"original":{"line":225,"column":13},"generated":{"line":1,"column":3650}},{"source":"../src/Session.ts","name":null,"original":{"line":226,"column":8},"generated":{"line":1,"column":3671}},{"source":"../src/Session.ts","name":null,"original":{"line":227,"column":10},"generated":{"line":1,"column":3672}},{"source":"../src/Session.ts","name":null,"original":{"line":227,"column":20},"generated":{"line":1,"column":3682}},{"source":"../src/Session.ts","name":null,"original":{"line":229,"column":8},"generated":{"line":1,"column":3685}},{"source":"../src/Session.ts","name":null,"original":{"line":446,"column":2},"generated":{"line":1,"column":3692}},{"source":"../src/Session.ts","name":null,"original":{"line":446,"column":10},"generated":{"line":1,"column":3700}},{"source":"../src/Session.ts","name":null,"original":{"line":447,"column":4},"generated":{"line":1,"column":3703}},{"source":"../src/Session.ts","name":null,"original":{"line":447,"column":9},"generated":{"line":1,"column":3708}},{"source":"../src/Session.ts","name":null,"original":{"line":447,"column":12},"generated":{"line":1,"column":3711}},{"source":"../src/Session.ts","name":null,"original":{"line":447,"column":21},"generated":{"line":1,"column":3719}},{"source":"../src/Session.ts","name":null,"original":{"line":455,"column":2},"generated":{"line":1,"column":3722}},{"source":"../src/Session.ts","name":null,"original":{"line":455,"column":11},"generated":{"line":1,"column":3731}},{"source":"../src/Session.ts","name":null,"original":{"line":456,"column":4},"generated":{"line":1,"column":3734}},{"source":"../src/Session.ts","name":null,"original":{"line":456,"column":9},"generated":{"line":1,"column":3739}},{"source":"../src/Session.ts","name":null,"original":{"line":456,"column":12},"generated":{"line":1,"column":3742}},{"source":"../src/Session.ts","name":null,"original":{"line":456,"column":22},"generated":{"line":1,"column":3751}},{"source":"../src/Session.ts","name":null,"original":{"line":465,"column":2},"generated":{"line":1,"column":3754}},{"source":"../src/Session.ts","name":null,"original":{"line":466,"column":4},"generated":{"line":1,"column":3762}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":4},"generated":{"line":1,"column":3765}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":9},"generated":{"line":1,"column":3770}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":12},"generated":{"line":1,"column":3773}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":12},"generated":{"line":1,"column":3775}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":19},"generated":{"line":1,"column":3782}},{"source":"../src/Session.ts","name":null,"original":{"line":471,"column":26},"generated":{"line":1,"column":3788}},{"source":"../src/Session.ts","name":null,"original":{"line":482,"column":2},"generated":{"line":1,"column":3791}},{"source":"../src/Session.ts","name":null,"original":{"line":482,"column":19},"generated":{"line":1,"column":3808}},{"source":"../src/Session.ts","name":null,"original":{"line":483,"column":4},"generated":{"line":1,"column":3811}},{"source":"../src/Session.ts","name":null,"original":{"line":483,"column":9},"generated":{"line":1,"column":3816}},{"source":"../src/Session.ts","name":null,"original":{"line":483,"column":12},"generated":{"line":1,"column":3819}},{"source":"../src/Session.ts","name":null,"original":{"line":483,"column":30},"generated":{"line":1,"column":3836}},{"source":"../src/Session.ts","name":null,"original":{"line":492,"column":2},"generated":{"line":1,"column":3839}},{"source":"../src/Session.ts","name":null,"original":{"line":492,"column":22},"generated":{"line":1,"column":3859}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":4},"generated":{"line":1,"column":3862}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":9},"generated":{"line":1,"column":3867}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":12},"generated":{"line":1,"column":3870}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":12},"generated":{"line":1,"column":3872}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":19},"generated":{"line":1,"column":3879}},{"source":"../src/Session.ts","name":null,"original":{"line":493,"column":36},"generated":{"line":1,"column":3895}},{"source":"../src/Session.ts","name":null,"original":{"line":496,"column":10},"generated":{"line":1,"column":3898}},{"source":"../src/Session.ts","name":null,"original":{"line":497,"column":4},"generated":{"line":1,"column":3913}},{"source":"../src/Session.ts","name":null,"original":{"line":499,"column":4},"generated":{"line":1,"column":3916}},{"source":"../src/Session.ts","name":null,"original":{"line":499,"column":9},"generated":{"line":1,"column":3921}},{"source":"../src/Session.ts","name":null,"original":{"line":499,"column":14},"generated":{"line":1,"column":3926}},{"source":"../src/Session.ts","name":null,"original":{"line":499,"column":27},"generated":{"line":1,"column":3937}},{"source":"../src/Session.ts","name":null,"original":{"line":499,"column":39},"generated":{"line":1,"column":3939}},{"source":"../src/Session.ts","name":null,"original":{"line":500,"column":4},"generated":{"line":1,"column":3950}},{"source":"../src/Session.ts","name":null,"original":{"line":500,"column":9},"generated":{"line":1,"column":3955}},{"source":"../src/Session.ts","name":null,"original":{"line":500,"column":14},"generated":{"line":1,"column":3960}},{"source":"../src/Session.ts","name":null,"original":{"line":500,"column":22},"generated":{"line":1,"column":3966}},{"source":"../src/Session.ts","name":null,"original":{"line":500,"column":34},"generated":{"line":1,"column":3968}},{"source":"../src/Session.ts","name":null,"original":{"line":501,"column":4},"generated":{"line":1,"column":3974}},{"source":"../src/Session.ts","name":null,"original":{"line":501,"column":9},"generated":{"line":1,"column":3979}},{"source":"../src/Session.ts","name":null,"original":{"line":501,"column":14},"generated":{"line":1,"column":3984}},{"source":"../src/Session.ts","name":null,"original":{"line":501,"column":26},"generated":{"line":1,"column":3994}},{"source":"../src/Session.ts","name":null,"original":{"line":501,"column":38},"generated":{"line":1,"column":3996}},{"source":"../src/Session.ts","name":null,"original":{"line":502,"column":4},"generated":{"line":1,"column":4006}},{"source":"../src/Session.ts","name":null,"original":{"line":502,"column":9},"generated":{"line":1,"column":4011}},{"source":"../src/Session.ts","name":null,"original":{"line":502,"column":14},"generated":{"line":1,"column":4016}},{"source":"../src/Session.ts","name":null,"original":{"line":502,"column":31},"generated":{"line":1,"column":4031}},{"source":"../src/Session.ts","name":null,"original":{"line":502,"column":43},"generated":{"line":1,"column":4033}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":4},"generated":{"line":1,"column":4048}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":9},"generated":{"line":1,"column":4053}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":12},"generated":{"line":1,"column":4056}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":12},"generated":{"line":1,"column":4058}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":19},"generated":{"line":1,"column":4065}},{"source":"../src/Session.ts","name":null,"original":{"line":503,"column":38},"generated":{"line":1,"column":4082}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":6},"generated":{"line":1,"column":4086}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":11},"generated":{"line":1,"column":4091}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":16},"generated":{"line":1,"column":4096}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":33},"generated":{"line":1,"column":4111}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":38},"generated":{"line":1,"column":4116}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":58},"generated":{"line":1,"column":4122}},{"source":"../src/Session.ts","name":null,"original":{"line":504,"column":46},"generated":{"line":1,"column":4126}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":4131}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":4139}},{"source":"../src/Session.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":4147}}],"sources":{"../src/Session.ts":"/*\n * Copyright 2021 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @hidden\n */\nimport { EventEmitter } from \"events\";\nimport {\n  EVENTS,\n  ILoginInputOptions,\n  ISessionInfo,\n  IStorage,\n  ResourceServerSession,\n} from \"@inrupt/solid-client-authn-core\";\nimport { v4 } from \"uuid\";\nimport ClientAuthentication from \"./ClientAuthentication\";\nimport { getClientAuthenticationWithDependencies } from \"./dependencies\";\nimport { KEY_CURRENT_SESSION, KEY_CURRENT_URL } from \"./constant\";\nimport { postRedirectUrlToParent, setupIframeListener } from \"./iframe\";\n\nexport interface ISessionOptions {\n  /**\n   * A private storage, unreachable to other scripts on the page. Typically in-memory.\n   */\n  secureStorage: IStorage;\n  /**\n   * A storage where non-sensitive information may be stored, potentially longer-lived than the secure storage.\n   */\n  insecureStorage: IStorage;\n  /**\n   * Details about the current session\n   */\n  sessionInfo: ISessionInfo;\n  /**\n   * An instance of the library core. Typically obtained using `getClientAuthenticationWithDependencies`.\n   */\n  clientAuthentication: ClientAuthentication;\n}\n\nexport interface IHandleIncomingRedirectOptions {\n  /**\n   * If the user has signed in before, setting this to `true` will automatically\n   * redirect them to their Solid Identity Provider, which will then attempt to\n   * re-activate the session and send the user back to your app without\n   * requiring user interaction.\n   * If your app's access has not expired yet and re-activation completed\n   * successfully, a `sessionRestore` event will be fired with the URL the user\n   * was at before they were redirected to their Solid Identity Provider.\n   * {@see onSessionRestore}\n   */\n  restorePreviousSession?: boolean;\n\n  /**\n   * Inrupt's Enterprise Solid Server can set a cookie to allow the browser to\n   * access private resources on a Pod. In order to mitigate the logout-on-refresh\n   * issue on the short term, the server also implemented a session endpoint\n   * enabling the client app to know whether the cookie is set. When a user\n   * logs in to a server that has that capability enabled, applications that set\n   * this option to `true` will be able to make use of it.\n   *\n   * If your app supports the newest session restore approach, and `restorePreviousSession`\n   * is set to true, this option is automatically set to false, but your app will\n   * not be logged out when reloaded.\n   *\n   * `useEssSession` defaults to false and will be removed in the future; to\n   * preserve sessions across page reloads, use of `restorePreviousSession` is\n   * recommended.\n   */\n  useEssSession?: boolean;\n  /**\n   * The URL of the page handling the redirect, including the query\n   * parameters  these contain the information to process the login.\n   * Note: as a convenience, if no URL value is specified here, we default to\n   * using the browser's current location.\n   */\n  url?: string;\n}\n\nexport async function silentlyAuthenticate(\n  sessionId: string,\n  clientAuthn: ClientAuthentication,\n  options: {\n    inIframe?: boolean;\n  } = {\n    inIframe: false,\n  },\n  session: Session\n): Promise<boolean> {\n  // Check if we have an ID Token in storage - if we do then we may be\n  // currently logged in, and the user has refreshed their browser page. The ID\n  // token is validated, and on success the current session information are returned,\n  // now that we know they have not been tampered with.\n  const storedSessionInfo = await clientAuthn.validateCurrentSession();\n  if (storedSessionInfo !== null) {\n    // It can be really useful to save the user's current browser location,\n    // so that we can restore it after completing the silent authentication\n    // on incoming redirect. This way, the user is eventually redirected back\n    // to the page they were on and not to the app's redirect page.\n    window.localStorage.setItem(KEY_CURRENT_URL, window.location.href);\n    await clientAuthn.login(\n      {\n        sessionId,\n        prompt: \"none\",\n        oidcIssuer: storedSessionInfo.issuer,\n        redirectUrl: storedSessionInfo.redirectUrl,\n        clientId: storedSessionInfo.clientAppId,\n        clientSecret: storedSessionInfo.clientAppSecret,\n        tokenType: storedSessionInfo.tokenType ?? \"DPoP\",\n        inIframe: options.inIframe,\n      },\n      session\n    );\n    return true;\n  }\n  return false;\n}\n\nfunction isLoggedIn(\n  sessionInfo?: ISessionInfo\n): sessionInfo is ISessionInfo & { isLoggedIn: true } {\n  return !!sessionInfo?.isLoggedIn;\n}\n\n/**\n * A {@link Session} object represents a user's session on an application. The session holds state, as it stores information enabling acces to private resources after login for instance.\n */\nexport class Session extends EventEmitter {\n  /**\n   * Information regarding the current session.\n   */\n  public readonly info: ISessionInfo;\n\n  private clientAuthentication: ClientAuthentication;\n\n  private tokenRequestInProgress = false;\n\n  // Remove this when removing the `useEssSession` workaround:\n  private tmpFetchWithCookies = false;\n\n  /**\n   * Session object constructor. Typically called as follows:\n   *\n   * ```typescript\n   * const session = new Session();\n   * ```\n   *\n   * See also [getDefaultSession](https://docs.inrupt.com/developer-tools/api/javascript/solid-client-authn-browser/functions.html#getdefaultsession).\n   *\n   * @param sessionOptions The options enabling the correct instantiation of\n   * the session. Either both storages or clientAuthentication are required. For\n   * more information, see {@link ISessionOptions}.\n   * @param sessionId A string uniquely identifying the session.\n   *\n   */\n  constructor(\n    sessionOptions: Partial<ISessionOptions> = {},\n    sessionId?: string\n  ) {\n    super();\n\n    if (sessionOptions.clientAuthentication) {\n      this.clientAuthentication = sessionOptions.clientAuthentication;\n    } else if (sessionOptions.secureStorage && sessionOptions.insecureStorage) {\n      this.clientAuthentication = getClientAuthenticationWithDependencies({\n        secureStorage: sessionOptions.secureStorage,\n        insecureStorage: sessionOptions.insecureStorage,\n      });\n    } else {\n      this.clientAuthentication = getClientAuthenticationWithDependencies({});\n    }\n\n    if (sessionOptions.sessionInfo) {\n      this.info = {\n        sessionId: sessionOptions.sessionInfo.sessionId,\n        isLoggedIn: false,\n        webId: sessionOptions.sessionInfo.webId,\n      };\n    } else {\n      this.info = {\n        sessionId: sessionId ?? v4(),\n        isLoggedIn: false,\n      };\n    }\n\n    // Listen for messages from children iframes.\n    setupIframeListener(async (redirectUrl: string) => {\n      const sessionInfo =\n        await this.clientAuthentication.handleIncomingRedirect(\n          redirectUrl,\n          this\n        );\n\n      // If silent authentication was not successful, do nothing;\n      // the existing session might still be valid for a while,\n      // and will expire by itself.\n      if (!isLoggedIn(sessionInfo)) {\n        return;\n      }\n      // After having revalidated the session,\n      // make sure to apply the new expiration time:\n      this.setSessionInfo(sessionInfo);\n    });\n    // Listen for the 'tokenRenewal' signal to trigger the silent token renewal.\n    this.on(\"tokenRenewal\", () =>\n      silentlyAuthenticate(\n        this.info.sessionId,\n        this.clientAuthentication,\n        {\n          inIframe: true,\n        },\n        this\n      )\n    );\n  }\n\n  /**\n   * Triggers the login process. Note that this method will redirect the user away from your app.\n   *\n   * @param options Parameter to customize the login behaviour. In particular, two options are mandatory: `options.oidcIssuer`, the user's identity provider, and `options.redirectUrl`, the URL to which the user will be redirected after logging in their identity provider.\n   * @returns This method should redirect the user away from the app: it does not return anything. The login process is completed by {@linkcode handleIncomingRedirect}.\n   */\n  // Define these functions as properties so that they don't get accidentally re-bound.\n  // Isn't Javascript fun?\n  login = async (options: ILoginInputOptions): Promise<void> => {\n    await this.clientAuthentication.login(\n      {\n        sessionId: this.info.sessionId,\n        ...options,\n        // Defaults the token type to DPoP\n        tokenType: options.tokenType ?? \"DPoP\",\n      },\n      this\n    );\n    // `login` redirects the user away from the app,\n    // so unless it throws an error, there is no code that should run afterwards\n    // (since there is no \"after\" in the lifetime of the script).\n    // Hence, this Promise never resolves:\n    return new Promise(() => undefined);\n  };\n\n  /**\n   * Fetches data using available login information. If the user is not logged in, this will behave as a regular `fetch`. The signature of this method is identical to the [canonical `fetch`](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API).\n   *\n   * @param url The URL from which data should be fetched.\n   * @param init Optional parameters customizing the request, by specifying an HTTP method, headers, a body, etc. Follows the [WHATWG Fetch Standard](https://fetch.spec.whatwg.org/).\n   */\n  fetch = async (url: RequestInfo, init?: RequestInit): Promise<Response> => {\n    return this.clientAuthentication.fetch(url, {\n      ...init,\n      credentials: this.tmpFetchWithCookies\n        ? /* istanbul ignore next Simulating a cookie-enabled session in tests is too much work for a temporary, disabled-by-default workaround: */\n          \"include\"\n        : /* istanbul ignore next Simulating a cookie-enabled session in tests is too much work for a temporary, disabled-by-default workaround: */\n          init?.credentials,\n    });\n  };\n\n  /**\n   * Logs the user out of the application. This does not log the user out of their Solid identity provider, and should not redirect the user away.\n   */\n  logout = async (): Promise<void> => {\n    await this.clientAuthentication.logout(this.info.sessionId);\n    this.info.isLoggedIn = false;\n    this.tmpFetchWithCookies = false;\n    this.emit(\"logout\");\n  };\n\n  /**\n   * Completes the login process by processing the information provided by the\n   * Solid identity provider through redirect.\n   *\n   * @param options See {@see IHandleIncomingRedirectOptions}.\n   */\n  handleIncomingRedirect = async (\n    inputOptions: string | IHandleIncomingRedirectOptions = {}\n  ): Promise<ISessionInfo | undefined> => {\n    if (this.info.isLoggedIn) {\n      return this.info;\n    }\n\n    if (this.tokenRequestInProgress) {\n      return undefined;\n    }\n    const options =\n      typeof inputOptions === \"string\" ? { url: inputOptions } : inputOptions;\n    const url = options.url ?? window.location.href;\n\n    if (window.frameElement !== null) {\n      // This is being loaded from an iframe, so send the redirect\n      // URL to the parent window on the same origin.\n      postRedirectUrlToParent(url);\n      return undefined;\n    }\n\n    // Unfortunately, regular sessions are lost when the user refreshes the page or opens a new tab.\n    // While we're figuring out the API for a longer-term solution, as a temporary workaround some\n    // *resource* servers set a cookie that keeps the user logged in after authenticated requests,\n    // and expose the fact that they set it on a special endpoint.\n    // After login, we store that fact in LocalStorage. This means that we can now look for that\n    // data, and if present, indicate that the user is already logged in.\n    // Note that there are a lot of edge cases that won't work well with this approach, so it willl\n    // be removed in due time, and is disabled by default.\n    if (\n      options.useEssSession !== true ||\n      options.restorePreviousSession === true\n    ) {\n      window.localStorage.setItem(\n        \"tmp-resource-server-session-enabled\",\n        \"false\"\n      );\n    } else {\n      window.localStorage.setItem(\n        \"tmp-resource-server-session-enabled\",\n        \"true\"\n      );\n    }\n    const storedSessionCookieReference = window.localStorage.getItem(\n      \"tmp-resource-server-session-info\"\n    );\n    if (\n      typeof storedSessionCookieReference === \"string\" &&\n      options.restorePreviousSession !== true &&\n      options.useEssSession === true\n    ) {\n      // TOOD: Re-use the type used when writing this data:\n      // https://github.com/inrupt/solid-client-authn-js/pull/920/files#diff-659ac87dfd3711f4cfcea3c7bf6970980f4740fd59df45f04c7977bffaa23e98R118\n      // To keep temporary code together\n      // eslint-disable-next-line no-inner-declarations\n      function isValidSessionCookieReference(\n        reference: Record<string, unknown>\n      ): reference is ResourceServerSession {\n        const resourceServers = Object.keys(\n          (reference as ResourceServerSession).sessions ?? {}\n        );\n        return (\n          typeof (reference as ResourceServerSession).webId === \"string\" &&\n          resourceServers.length > 0 &&\n          typeof (reference as ResourceServerSession).sessions[\n            resourceServers[0]\n          ].expiration === \"number\"\n        );\n      }\n      const reference = JSON.parse(storedSessionCookieReference);\n      if (isValidSessionCookieReference(reference)) {\n        const resourceServers = Object.keys(reference.sessions);\n        const webIdOrigin = new URL(reference.webId).hostname;\n        const ownResourceServer = resourceServers.find((resourceServer) => {\n          return new URL(resourceServer).hostname === webIdOrigin;\n        });\n        // Usually the user's WebID is also a Resource server for them,\n        // so we pick the expiration time for that. If it doesn't exist,\n        // we just pick the first (and probably only) one:\n        const relevantServer = ownResourceServer ?? resourceServers[0];\n        // If the cookie is valid for fewer than five minutes,\n        // pretend it's not valid anymore already, to avoid small misalignments\n        // resulting in invalid states:\n        if (\n          reference.sessions[relevantServer].expiration - Date.now() >\n          5 * 60 * 1000\n        ) {\n          this.info.isLoggedIn = true;\n          this.info.webId = reference.webId;\n          this.tmpFetchWithCookies = true;\n          return this.info;\n        }\n      }\n    }\n    // end of temporary workaround.\n\n    this.tokenRequestInProgress = true;\n    const sessionInfo = await this.clientAuthentication.handleIncomingRedirect(\n      url,\n      this\n    );\n    if (isLoggedIn(sessionInfo)) {\n      this.setSessionInfo(sessionInfo);\n      const currentUrl = window.localStorage.getItem(KEY_CURRENT_URL);\n      if (currentUrl === null) {\n        // The login event can only be triggered **after** the user has been\n        // redirected from the IdP with access and ID tokens.\n        this.emit(\"login\");\n      } else {\n        // If an URL is stored in local storage, we are being logged in after a\n        // silent authentication, so remove our currently stored URL location\n        // to clean up our state now that we are completing the re-login process.\n        window.localStorage.removeItem(KEY_CURRENT_URL);\n        this.emit(\"sessionRestore\", currentUrl);\n      }\n    } else if (options.restorePreviousSession === true) {\n      // Silent authentication happens after a refresh, which means there are no\n      // OAuth params in the current location IRI. It can only succeed if a session\n      // was previously logged in, in which case its ID will be present with a known\n      // identifier in local storage.\n      // Check if we have a locally stored session ID...\n      const storedSessionId = window.localStorage.getItem(KEY_CURRENT_SESSION);\n      // ...if not, then there is no ID token, and so silent authentication cannot happen, but\n      // if we do have a stored session ID, attempt to re-authenticate now silently.\n      if (storedSessionId !== null) {\n        // TODO: iframe-based authentication being still experimental, it is disabled\n        // by default here. When it settles down, the following could be set to true,\n        // in which case the unresolving promise afterwards would need to be changed.\n        const attemptedSilentAuthentication = await silentlyAuthenticate(\n          storedSessionId,\n          this.clientAuthentication,\n          undefined,\n          this\n        );\n        // At this point, we know that the main window will imminently be redirected.\n        // However, this redirect is asynchronous and there is no way to halt execution\n        // until it happens precisely. That's why the current Promise simply does not\n        // resolve.\n        if (attemptedSilentAuthentication) {\n          return new Promise(() => {});\n        }\n      }\n    }\n    this.tokenRequestInProgress = false;\n    return sessionInfo;\n  };\n\n  /**\n   * Register a callback function to be called when a user completes login.\n   *\n   * The callback is called when {@link handleIncomingRedirect} completes successfully.\n   *\n   * @param callback The function called when a user completes login.\n   */\n  onLogin(callback: () => unknown): void {\n    this.on(\"login\", callback);\n  }\n\n  /**\n   * Register a callback function to be called when a user logs out:\n   *\n   * @param callback The function called when a user completes logout.\n   */\n  onLogout(callback: () => unknown): void {\n    this.on(\"logout\", callback);\n  }\n\n  /**\n   * Register a callback function to be called when a user logs out:\n   *\n   * @param callback The function called when an error occurs.\n   * @since 1.11.0\n   */\n  onError(\n    callback: (\n      error: string | null,\n      errorDescription?: string | null\n    ) => unknown\n  ): void {\n    this.on(EVENTS.ERROR, callback);\n  }\n\n  /**\n   * Register a callback function to be called when a session is restored.\n   *\n   * Note: the callback will be called with the saved value of the 'current URL'\n   * at the time the session was restored.\n   *\n   * @param callback The function called when a user's already logged-in session is restored, e.g., after a silent authentication is completed after a page refresh.\n   */\n  onSessionRestore(callback: (currentUrl: string) => unknown): void {\n    this.on(\"sessionRestore\", callback);\n  }\n\n  /**\n   * Register a callback that runs when the session expires and can no longer\n   * make authenticated requests, but following a user logout.\n   * @param callback The function that runs on session expiration.\n   * @since 1.11.0\n   */\n  onSessionExpiration(callback: () => unknown): void {\n    this.on(EVENTS.SESSION_EXPIRED, callback);\n  }\n\n  private setSessionInfo(\n    sessionInfo: ISessionInfo & { isLoggedIn: true }\n  ): void {\n    this.info.isLoggedIn = sessionInfo.isLoggedIn;\n    this.info.webId = sessionInfo.webId;\n    this.info.sessionId = sessionInfo.sessionId;\n    this.info.expirationDate = sessionInfo.expirationDate;\n    this.on(EVENTS.SESSION_EXTENDED, (expiresIn: number) => {\n      this.info.expirationDate = Date.now() + expiresIn * 1000;\n    });\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"3b1eb3e1720caecac75062c592741e41","cacheData":{"env":{}}}