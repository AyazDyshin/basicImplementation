{"id":"PuYE","dependencies":[{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\iframe.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\iframe.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\package.json","includedInParent":true,"mtime":1632614243327},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1632612132843}],"generated":{"js":"\"use strict\";let e;function t(){return void 0===e&&((e=window.document.createElement(\"iframe\")).setAttribute(\"hidden\",\"true\"),e.setAttribute(\"sandbox\",\"allow-scripts allow-same-origin\")),e}function o(e){const o=t();window.document.body.appendChild(o),o.src=e}function n(e){\"undefined\"!=typeof window&&window.addEventListener(\"message\",async o=>{const n=t();o.origin===window.location.origin&&o.source===n.contentWindow&&\"string\"==typeof o.data.redirectUrl&&await e(o.data.redirectUrl),window.document.body.contains(n)&&window.document.body.removeChild(n)})}function r(e){window.top.postMessage({redirectUrl:e},window.location.origin)}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.postRedirectUrlToParent=exports.setupIframeListener=exports.redirectInIframe=void 0,exports.redirectInIframe=o,exports.setupIframeListener=n,exports.postRedirectUrlToParent=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../src/iframe.ts","name":null,"original":{"line":26,"column":0},"generated":{"line":1,"column":13}},{"source":"../src/iframe.ts","name":null,"original":{"line":26,"column":4},"generated":{"line":1,"column":17}},{"source":"../src/iframe.ts","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":19}},{"source":"../src/iframe.ts","name":null,"original":{"line":30,"column":9},"generated":{"line":1,"column":28}},{"source":"../src/iframe.ts","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":32}},{"source":"../src/iframe.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":1,"column":44}},{"source":"../src/iframe.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":48}},{"source":"../src/iframe.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":53}},{"source":"../src/iframe.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":55}},{"source":"../src/iframe.ts","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":62}},{"source":"../src/iframe.ts","name":null,"original":{"line":32,"column":37},"generated":{"line":1,"column":71}},{"source":"../src/iframe.ts","name":null,"original":{"line":32,"column":51},"generated":{"line":1,"column":85}},{"source":"../src/iframe.ts","name":null,"original":{"line":33,"column":19},"generated":{"line":1,"column":96}},{"source":"../src/iframe.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":109}},{"source":"../src/iframe.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":118}},{"source":"../src/iframe.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":126}},{"source":"../src/iframe.ts","name":null,"original":{"line":34,"column":19},"generated":{"line":1,"column":128}},{"source":"../src/iframe.ts","name":null,"original":{"line":34,"column":32},"generated":{"line":1,"column":141}},{"source":"../src/iframe.ts","name":null,"original":{"line":34,"column":43},"generated":{"line":1,"column":151}},{"source":"../src/iframe.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":187}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":189}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":16},"generated":{"line":1,"column":198}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":200}},{"source":"../src/iframe.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":1,"column":203}},{"source":"../src/iframe.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":209}},{"source":"../src/iframe.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":211}},{"source":"../src/iframe.ts","name":null,"original":{"line":48,"column":2},"generated":{"line":1,"column":215}},{"source":"../src/iframe.ts","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":222}},{"source":"../src/iframe.ts","name":null,"original":{"line":48,"column":18},"generated":{"line":1,"column":231}},{"source":"../src/iframe.ts","name":null,"original":{"line":48,"column":23},"generated":{"line":1,"column":236}},{"source":"../src/iframe.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":248}},{"source":"../src/iframe.ts","name":null,"original":{"line":49,"column":2},"generated":{"line":1,"column":251}},{"source":"../src/iframe.ts","name":null,"original":{"line":49,"column":9},"generated":{"line":1,"column":253}},{"source":"../src/iframe.ts","name":null,"original":{"line":49,"column":15},"generated":{"line":1,"column":257}},{"source":"../src/iframe.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":259}},{"source":"../src/iframe.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":268}},{"source":"../src/iframe.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":270}},{"source":"../src/iframe.ts","name":null,"original":{"line":70,"column":24},"generated":{"line":1,"column":273}},{"source":"../src/iframe.ts","name":null,"original":{"line":70,"column":13},"generated":{"line":1,"column":293}},{"source":"../src/iframe.ts","name":null,"original":{"line":73,"column":2},"generated":{"line":1,"column":301}},{"source":"../src/iframe.ts","name":null,"original":{"line":73,"column":9},"generated":{"line":1,"column":308}},{"source":"../src/iframe.ts","name":null,"original":{"line":73,"column":26},"generated":{"line":1,"column":325}},{"source":"../src/iframe.ts","name":null,"original":{"line":73,"column":37},"generated":{"line":1,"column":335}},{"source":"../src/iframe.ts","name":null,"original":{"line":73,"column":44},"generated":{"line":1,"column":341}},{"source":"../src/iframe.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":345}},{"source":"../src/iframe.ts","name":null,"original":{"line":74,"column":10},"generated":{"line":1,"column":351}},{"source":"../src/iframe.ts","name":null,"original":{"line":74,"column":19},"generated":{"line":1,"column":353}},{"source":"../src/iframe.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":357}},{"source":"../src/iframe.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":359}},{"source":"../src/iframe.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":1,"column":368}},{"source":"../src/iframe.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":375}},{"source":"../src/iframe.ts","name":null,"original":{"line":76,"column":37},"generated":{"line":1,"column":384}},{"source":"../src/iframe.ts","name":null,"original":{"line":77,"column":6},"generated":{"line":1,"column":392}},{"source":"../src/iframe.ts","name":null,"original":{"line":77,"column":10},"generated":{"line":1,"column":394}},{"source":"../src/iframe.ts","name":null,"original":{"line":77,"column":21},"generated":{"line":1,"column":403}},{"source":"../src/iframe.ts","name":null,"original":{"line":77,"column":28},"generated":{"line":1,"column":405}},{"source":"../src/iframe.ts","name":null,"original":{"line":79,"column":42},"generated":{"line":1,"column":420}},{"source":"../src/iframe.ts","name":null,"original":{"line":79,"column":17},"generated":{"line":1,"column":437}},{"source":"../src/iframe.ts","name":null,"original":{"line":79,"column":21},"generated":{"line":1,"column":439}},{"source":"../src/iframe.ts","name":null,"original":{"line":79,"column":26},"generated":{"line":1,"column":444}},{"source":"../src/iframe.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":463}},{"source":"../src/iframe.ts","name":null,"original":{"line":81,"column":35},"generated":{"line":1,"column":465}},{"source":"../src/iframe.ts","name":null,"original":{"line":81,"column":39},"generated":{"line":1,"column":467}},{"source":"../src/iframe.ts","name":null,"original":{"line":81,"column":44},"generated":{"line":1,"column":472}},{"source":"../src/iframe.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":485}},{"source":"../src/iframe.ts","name":null,"original":{"line":85,"column":15},"generated":{"line":1,"column":492}},{"source":"../src/iframe.ts","name":null,"original":{"line":85,"column":24},"generated":{"line":1,"column":501}},{"source":"../src/iframe.ts","name":null,"original":{"line":85,"column":29},"generated":{"line":1,"column":506}},{"source":"../src/iframe.ts","name":null,"original":{"line":85,"column":38},"generated":{"line":1,"column":515}},{"source":"../src/iframe.ts","name":null,"original":{"line":86,"column":6},"generated":{"line":1,"column":519}},{"source":"../src/iframe.ts","name":null,"original":{"line":86,"column":13},"generated":{"line":1,"column":526}},{"source":"../src/iframe.ts","name":null,"original":{"line":86,"column":22},"generated":{"line":1,"column":535}},{"source":"../src/iframe.ts","name":null,"original":{"line":86,"column":27},"generated":{"line":1,"column":540}},{"source":"../src/iframe.ts","name":null,"original":{"line":86,"column":39},"generated":{"line":1,"column":552}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":0},"generated":{"line":1,"column":557}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":16},"generated":{"line":1,"column":566}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":40},"generated":{"line":1,"column":568}},{"source":"../src/iframe.ts","name":null,"original":{"line":96,"column":2},"generated":{"line":1,"column":571}},{"source":"../src/iframe.ts","name":null,"original":{"line":96,"column":9},"generated":{"line":1,"column":578}},{"source":"../src/iframe.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":582}},{"source":"../src/iframe.ts","name":null,"original":{"line":97,"column":4},"generated":{"line":1,"column":594}},{"source":"../src/iframe.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":595}},{"source":"../src/iframe.ts","name":null,"original":{"line":98,"column":6},"generated":{"line":1,"column":607}},{"source":"../src/iframe.ts","name":null,"original":{"line":100,"column":4},"generated":{"line":1,"column":610}},{"source":"../src/iframe.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":617}},{"source":"../src/iframe.ts","name":null,"original":{"line":100,"column":20},"generated":{"line":1,"column":626}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":781}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":789}},{"source":"../src/iframe.ts","name":null,"original":{"line":46,"column":0},"generated":{"line":1,"column":806}},{"source":"../src/iframe.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":808}},{"source":"../src/iframe.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":816}},{"source":"../src/iframe.ts","name":null,"original":{"line":62,"column":0},"generated":{"line":1,"column":836}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":0},"generated":{"line":1,"column":838}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":0},"generated":{"line":1,"column":846}},{"source":"../src/iframe.ts","name":null,"original":{"line":95,"column":0},"generated":{"line":1,"column":870}}],"sources":{"../src/iframe.ts":"/*\n * Copyright 2021 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n// This is an internal variable used to share some state between `redirectInIframe`,\n// which initializes it, and `setupIframeListener`, which reads from it. It avoids\n// creating a DOM element with identifying attributes such as an ID which may clash\n// with some other element set up by the library user.\nlet redirectIframe: HTMLIFrameElement;\n\n// The iframe is dynamically created rather than on import,\n// to avoid accessing `window` when an app is doing server-side rendering:\nfunction getRedirectIframe(): HTMLIFrameElement {\n  if (typeof redirectIframe === \"undefined\") {\n    redirectIframe = window.document.createElement(\"iframe\");\n    redirectIframe.setAttribute(\"hidden\", \"true\");\n    redirectIframe.setAttribute(\"sandbox\", \"allow-scripts allow-same-origin\");\n  }\n  return redirectIframe;\n}\n\n/**\n * Redirects the browser to a provided IRI, but does such redirection in a child\n * iframe. This is used to have a front-channel interaction with the Solid Identity\n * Provider without having the user involved, and without refreshing the main window.\n *\n * @param redirectUrl The IRI to which the iframe should be redirected.\n */\nexport function redirectInIframe(redirectUrl: string): void {\n  const iframe = getRedirectIframe();\n  window.document.body.appendChild(iframe);\n  iframe.src = redirectUrl;\n}\n\n/**\n * This function sets up an event listener that will receive iframe messages.\n * It is only listening to messages coming from iframes that could have been\n * opened by the library, and expects to be posted the IRI the iframe has been\n * redirected to by the Solid Identity Provider. This way, the top window can\n * perform the backchannel exchange to the token endpoint without performing\n * the front-channel redirection.\n *\n * @param handleIframeRedirect Redirect URL sent by the iframe\n */\nexport function setupIframeListener(\n  handleIframeRedirect: (redirectUrl: string) => Promise<unknown>\n): void {\n  // If an app is doing server-side rendering, setting up an iframe listener\n  // is pointless (since there is no iframe, and there will be no expiring\n  // session to renew) and might even throw a `window` not defined error, so\n  // skip this in that case:\n  /* istanbul ignore if (window is always defined in tests) */\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  window.addEventListener(\"message\", async (evt: MessageEvent) => {\n    const iframe = getRedirectIframe();\n    if (\n      evt.origin === window.location.origin &&\n      evt.source === iframe.contentWindow\n    ) {\n      if (typeof evt.data.redirectUrl === \"string\") {\n        // The top-level window handles the redirect that happened in the iframe.\n        await handleIframeRedirect(evt.data.redirectUrl);\n      }\n    }\n    // Clean up the iframe from the DOM\n    if (window.document.body.contains(iframe)) {\n      window.document.body.removeChild(iframe);\n    }\n  });\n}\n\n/**\n * This function bubbles up the result of the front-channel interaction with\n * the authorization endpoint to the parent window.\n */\nexport function postRedirectUrlToParent(redirectUrl: string): void {\n  window.top.postMessage(\n    {\n      redirectUrl,\n    },\n    window.location.origin\n  );\n}\n"},"lineCount":null}},"error":null,"hash":"81f4407dc0c1b6277bf7aba96a4aad37","cacheData":{"env":{}}}