{"id":"aMH8","dependencies":[{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\package.json","includedInParent":true,"mtime":1632614243327},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1632612132843},{"name":"@inrupt/solid-client-authn-core","loc":{"line":4,"column":42},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-core\\dist\\index.js"},{"name":"@inrupt/oidc-client-ext","loc":{"line":5,"column":34},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\oidc-client-ext\\dist\\index.es.js"},{"name":"../../../constant","loc":{"line":6,"column":27},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\login\\oidc\\redirectHandler\\AuthCodeRedirectHandler.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\constant.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.AuthCodeRedirectHandler=exports.DEFAULT_LIFESPAN=void 0;const e=require(\"@inrupt/solid-client-authn-core\"),t=require(\"@inrupt/oidc-client-ext\"),r=require(\"../../../constant\");async function s(e,t,r){const s=new URL(e).origin;await t(e);try{if(200===(await t(`${s}/session`)).status)return void(await r.storeResourceServerSessionInfo(e,s,Date.now()+exports.DEFAULT_LIFESPAN));await r.clearResourceServerSessionInfo(s)}catch(i){await r.clearResourceServerSessionInfo(s)}}exports.DEFAULT_LIFESPAN=18e5;class i{constructor(e,t,r,s,i){this.storageUtility=e,this.sessionInfoManager=t,this.issuerConfigFetcher=r,this.clientRegistrar=s,this.tokerRefresher=i}async canHandle(e){try{const r=new URL(e);return null!==r.searchParams.get(\"code\")&&null!==r.searchParams.get(\"state\")}catch(t){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${t.toString()}`)}}async handle(i,o){if(!(await this.canHandle(i)))throw new Error(`AuthCodeRedirectHandler cannot handle [${i}]: it is missing one of [code, state].`);const a=new URL(i),n=a.searchParams.get(\"state\"),c=await this.storageUtility.getForUser(n,\"sessionId\",{errorIfNull:!0}),d=\"true\"===await this.storageUtility.getForUser(c,\"dpop\"),l=await this.storageUtility.getForUser(c,\"issuer\",{errorIfNull:!0});window.localStorage.setItem(r.KEY_CURRENT_SESSION,c);const h=await this.issuerConfigFetcher.fetchConfig(l),g=await this.clientRegistrar.getClient({sessionId:c},h);let u;const w=Date.now();if(d){const e=await this.storageUtility.getForUser(c,\"codeVerifier\",{errorIfNull:!0}),r=await this.storageUtility.getForUser(c,\"redirectUrl\",{errorIfNull:!0});u=await t.getDpopToken(h,g,{grantType:\"authorization_code\",code:a.searchParams.get(\"code\"),codeVerifier:e,redirectUrl:r})}else u=await t.getBearerToken(a.toString());let f;void 0!==u.refreshToken&&(f={sessionId:c,refreshToken:u.refreshToken,tokenRefresher:this.tokerRefresher});const p=await e.buildAuthenticatedFetch(fetch,u.accessToken,{dpopKey:u.dpopKey,refreshOptions:f,eventEmitter:o,expiresIn:u.expiresIn});await this.storageUtility.setForUser(c,{refreshToken:\"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>\",webId:u.webId,isLoggedIn:\"true\"},{secure:!0}),a.searchParams.delete(\"code\"),await this.storageUtility.setForUser(c,{redirectUrl:a.toString(),idToken:u.idToken},{secure:!1}),\"false\"===window.localStorage.getItem(\"tmp-resource-server-session-enabled\")||await s(u.webId,p,this.storageUtility);const U=await this.sessionInfoManager.get(c);if(!U)throw new Error(`Could not retrieve session: [${c}].`);return Object.assign(U,{fetch:p,expirationDate:\"number\"==typeof u.expiresIn?w+1e3*u.expiresIn:null})}}exports.AuthCodeRedirectHandler=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":132}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":183}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":185}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":39,"column":0},"generated":{"line":1,"column":193}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":220}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":222}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":45,"column":0},"generated":{"line":1,"column":230}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":1,"column":251}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":58,"column":15},"generated":{"line":1,"column":266}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":59,"column":2},"generated":{"line":1,"column":268}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":60,"column":2},"generated":{"line":1,"column":270}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":61,"column":2},"generated":{"line":1,"column":272}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":63,"column":2},"generated":{"line":1,"column":275}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":281}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":1,"column":283}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":287}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":63,"column":29},"generated":{"line":1,"column":291}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":64,"column":39},"generated":{"line":1,"column":294}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":68,"column":8},"generated":{"line":1,"column":307}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":68,"column":27},"generated":{"line":1,"column":309}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":69,"column":2},"generated":{"line":1,"column":312}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":74,"column":4},"generated":{"line":1,"column":316}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":74,"column":42},"generated":{"line":1,"column":319}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":70,"column":41},"generated":{"line":1,"column":332}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":337}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":74,"column":31},"generated":{"line":1,"column":351}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":83,"column":6},"generated":{"line":1,"column":358}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":75,"column":12},"generated":{"line":1,"column":376}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":75,"column":27},"generated":{"line":1,"column":378}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":76,"column":8},"generated":{"line":1,"column":409}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":411}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":81,"column":8},"generated":{"line":1,"column":413}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":81,"column":13},"generated":{"line":1,"column":418}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":81,"column":21},"generated":{"line":1,"column":424}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":81,"column":21},"generated":{"line":1,"column":432}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":90,"column":10},"generated":{"line":1,"column":457}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":459}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":90,"column":56},"generated":{"line":1,"column":490}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":91,"column":4},"generated":{"line":1,"column":493}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":91,"column":11},"generated":{"line":1,"column":499}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":99,"column":10},"generated":{"line":1,"column":508}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":99,"column":25},"generated":{"line":1,"column":510}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":99,"column":56},"generated":{"line":1,"column":541}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":545}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":553}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":49,"column":32},"generated":{"line":1,"column":570}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":575}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":106,"column":13},"generated":{"line":1,"column":581}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":107,"column":2},"generated":{"line":1,"column":583}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":108,"column":12},"generated":{"line":1,"column":595}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":109,"column":12},"generated":{"line":1,"column":597}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":599}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":601}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":112,"column":12},"generated":{"line":1,"column":603}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":108,"column":12},"generated":{"line":1,"column":606}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":108,"column":12},"generated":{"line":1,"column":611}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":108,"column":12},"generated":{"line":1,"column":626}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":109,"column":12},"generated":{"line":1,"column":628}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":109,"column":12},"generated":{"line":1,"column":633}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":109,"column":12},"generated":{"line":1,"column":652}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":654}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":659}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":110,"column":12},"generated":{"line":1,"column":679}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":681}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":686}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":702}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":112,"column":12},"generated":{"line":1,"column":704}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":112,"column":12},"generated":{"line":1,"column":709}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":112,"column":12},"generated":{"line":1,"column":724}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":115,"column":2},"generated":{"line":1,"column":726}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":115,"column":18},"generated":{"line":1,"column":742}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":116,"column":4},"generated":{"line":1,"column":745}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":117,"column":6},"generated":{"line":1,"column":749}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":117,"column":12},"generated":{"line":1,"column":755}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":757}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":117,"column":24},"generated":{"line":1,"column":761}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":117,"column":28},"generated":{"line":1,"column":765}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":118,"column":6},"generated":{"line":1,"column":768}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":119,"column":43},"generated":{"line":1,"column":775}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":119,"column":8},"generated":{"line":1,"column":782}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":119,"column":14},"generated":{"line":1,"column":784}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":119,"column":27},"generated":{"line":1,"column":797}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":119,"column":31},"generated":{"line":1,"column":801}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":120,"column":44},"generated":{"line":1,"column":810}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":817}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":120,"column":14},"generated":{"line":1,"column":819}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":120,"column":27},"generated":{"line":1,"column":832}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":120,"column":31},"generated":{"line":1,"column":836}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":122,"column":6},"generated":{"line":1,"column":845}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":122,"column":13},"generated":{"line":1,"column":851}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":123,"column":6},"generated":{"line":1,"column":854}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":123,"column":12},"generated":{"line":1,"column":860}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":123,"column":16},"generated":{"line":1,"column":864}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":874}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":124,"column":86},"generated":{"line":1,"column":938}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":124,"column":88},"generated":{"line":1,"column":940}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":129,"column":2},"generated":{"line":1,"column":955}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":130,"column":4},"generated":{"line":1,"column":968}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":131,"column":4},"generated":{"line":1,"column":970}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":133,"column":4},"generated":{"line":1,"column":973}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":133,"column":16},"generated":{"line":1,"column":984}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":133,"column":21},"generated":{"line":1,"column":989}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":133,"column":31},"generated":{"line":1,"column":999}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":134,"column":6},"generated":{"line":1,"column":1003}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":134,"column":12},"generated":{"line":1,"column":1009}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":134,"column":16},"generated":{"line":1,"column":1013}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":135,"column":50},"generated":{"line":1,"column":1061}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":139,"column":4},"generated":{"line":1,"column":1104}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":139,"column":10},"generated":{"line":1,"column":1110}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":139,"column":16},"generated":{"line":1,"column":1112}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":139,"column":20},"generated":{"line":1,"column":1116}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":139,"column":24},"generated":{"line":1,"column":1120}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":140,"column":10},"generated":{"line":1,"column":1123}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":140,"column":23},"generated":{"line":1,"column":1125}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":140,"column":27},"generated":{"line":1,"column":1127}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":140,"column":40},"generated":{"line":1,"column":1140}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":140,"column":44},"generated":{"line":1,"column":1144}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":142,"column":10},"generated":{"line":1,"column":1153}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":142,"column":35},"generated":{"line":1,"column":1161}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":142,"column":40},"generated":{"line":1,"column":1166}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":142,"column":55},"generated":{"line":1,"column":1181}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":143,"column":6},"generated":{"line":1,"column":1192}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":144,"column":6},"generated":{"line":1,"column":1194}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":145,"column":6},"generated":{"line":1,"column":1206}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":146,"column":8},"generated":{"line":1,"column":1207}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":146,"column":21},"generated":{"line":1,"column":1220}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":149,"column":10},"generated":{"line":1,"column":1224}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":151,"column":6},"generated":{"line":1,"column":1226}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":150,"column":13},"generated":{"line":1,"column":1241}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":150,"column":18},"generated":{"line":1,"column":1246}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":150,"column":33},"generated":{"line":1,"column":1261}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":150,"column":44},"generated":{"line":1,"column":1272}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":150,"column":61},"generated":{"line":1,"column":1274}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":154,"column":10},"generated":{"line":1,"column":1282}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":154,"column":26},"generated":{"line":1,"column":1290}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":154,"column":31},"generated":{"line":1,"column":1295}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":154,"column":46},"generated":{"line":1,"column":1310}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":155,"column":6},"generated":{"line":1,"column":1321}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":156,"column":6},"generated":{"line":1,"column":1323}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":157,"column":6},"generated":{"line":1,"column":1332}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":157,"column":8},"generated":{"line":1,"column":1333}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":157,"column":21},"generated":{"line":1,"column":1346}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":4},"generated":{"line":1,"column":1350}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":11},"generated":{"line":1,"column":1357}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":24},"generated":{"line":1,"column":1370}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":32},"generated":{"line":1,"column":1378}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":32},"generated":{"line":1,"column":1380}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":163,"column":53},"generated":{"line":1,"column":1400}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":4},"generated":{"line":1,"column":1403}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":10},"generated":{"line":1,"column":1409}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":31},"generated":{"line":1,"column":1417}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":36},"generated":{"line":1,"column":1422}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":56},"generated":{"line":1,"column":1442}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":165,"column":68},"generated":{"line":1,"column":1454}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":166,"column":10},"generated":{"line":1,"column":1457}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":166,"column":34},"generated":{"line":1,"column":1465}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":166,"column":39},"generated":{"line":1,"column":1470}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":166,"column":55},"generated":{"line":1,"column":1486}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":167,"column":6},"generated":{"line":1,"column":1496}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":167,"column":8},"generated":{"line":1,"column":1497}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":167,"column":19},"generated":{"line":1,"column":1507}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":168,"column":6},"generated":{"line":1,"column":1510}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":171,"column":4},"generated":{"line":1,"column":1513}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":171,"column":8},"generated":{"line":1,"column":1517}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":172,"column":4},"generated":{"line":1,"column":1519}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":172,"column":10},"generated":{"line":1,"column":1525}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":172,"column":26},"generated":{"line":1,"column":1527}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":172,"column":31},"generated":{"line":1,"column":1532}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":1,"column":1538}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":174,"column":8},"generated":{"line":1,"column":1541}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":174,"column":16},"generated":{"line":1,"column":1543}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":175,"column":6},"generated":{"line":1,"column":1544}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":175,"column":12},"generated":{"line":1,"column":1550}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":175,"column":34},"generated":{"line":1,"column":1558}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":175,"column":39},"generated":{"line":1,"column":1563}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":175,"column":54},"generated":{"line":1,"column":1578}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":176,"column":8},"generated":{"line":1,"column":1589}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":177,"column":8},"generated":{"line":1,"column":1591}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":178,"column":8},"generated":{"line":1,"column":1606}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":178,"column":10},"generated":{"line":1,"column":1607}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":178,"column":23},"generated":{"line":1,"column":1620}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":1,"column":1624}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":181,"column":39},"generated":{"line":1,"column":1632}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":181,"column":44},"generated":{"line":1,"column":1637}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":181,"column":59},"generated":{"line":1,"column":1652}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":182,"column":8},"generated":{"line":1,"column":1663}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":1,"column":1665}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":184,"column":8},"generated":{"line":1,"column":1679}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":1,"column":1680}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":184,"column":23},"generated":{"line":1,"column":1693}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":6},"generated":{"line":1,"column":1697}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":21},"generated":{"line":1,"column":1705}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":21},"generated":{"line":1,"column":1707}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":34},"generated":{"line":1,"column":1720}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":48},"generated":{"line":1,"column":1722}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":187,"column":56},"generated":{"line":1,"column":1724}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":188,"column":8},"generated":{"line":1,"column":1725}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":188,"column":19},"generated":{"line":1,"column":1735}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":191,"column":8},"generated":{"line":1,"column":1756}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":191,"column":14},"generated":{"line":1,"column":1761}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":191,"column":18},"generated":{"line":1,"column":1763}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":191,"column":31},"generated":{"line":1,"column":1776}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":191,"column":35},"generated":{"line":1,"column":1780}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":1,"column":1788}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":1,"column":1801}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":193,"column":8},"generated":{"line":1,"column":1803}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":193,"column":21},"generated":{"line":1,"column":1815}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":196,"column":6},"generated":{"line":1,"column":1824}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":196,"column":21},"generated":{"line":1,"column":1832}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":196,"column":21},"generated":{"line":1,"column":1834}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":196,"column":36},"generated":{"line":1,"column":1849}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":196,"column":40},"generated":{"line":1,"column":1851}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":199,"column":4},"generated":{"line":1,"column":1863}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":199,"column":8},"generated":{"line":1,"column":1867}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":200,"column":32},"generated":{"line":1,"column":1874}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":200,"column":8},"generated":{"line":1,"column":1878}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":200,"column":15},"generated":{"line":1,"column":1880}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":201,"column":6},"generated":{"line":1,"column":1895}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":201,"column":23},"generated":{"line":1,"column":1897}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":202,"column":8},"generated":{"line":1,"column":1898}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":202,"column":19},"generated":{"line":1,"column":1908}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":203,"column":8},"generated":{"line":1,"column":1910}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":203,"column":22},"generated":{"line":1,"column":1923}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":203,"column":29},"generated":{"line":1,"column":1925}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":204,"column":8},"generated":{"line":1,"column":1938}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":204,"column":24},"generated":{"line":1,"column":1953}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":204,"column":29},"generated":{"line":1,"column":1958}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":4},"generated":{"line":1,"column":1975}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":10},"generated":{"line":1,"column":1981}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":28},"generated":{"line":1,"column":1989}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":28},"generated":{"line":1,"column":1991}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":52},"generated":{"line":1,"column":2015}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":59},"generated":{"line":1,"column":2021}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":66},"generated":{"line":1,"column":2023}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":208,"column":79},"generated":{"line":1,"column":2035}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":209,"column":6},"generated":{"line":1,"column":2036}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":209,"column":15},"generated":{"line":1,"column":2044}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":209,"column":22},"generated":{"line":1,"column":2046}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":210,"column":6},"generated":{"line":1,"column":2054}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":210,"column":6},"generated":{"line":1,"column":2069}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":211,"column":6},"generated":{"line":1,"column":2071}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":211,"column":6},"generated":{"line":1,"column":2084}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":212,"column":6},"generated":{"line":1,"column":2086}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":212,"column":17},"generated":{"line":1,"column":2096}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":212,"column":24},"generated":{"line":1,"column":2098}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":215,"column":10},"generated":{"line":1,"column":2116}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":215,"column":15},"generated":{"line":1,"column":2121}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":215,"column":30},"generated":{"line":1,"column":2136}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":216,"column":6},"generated":{"line":1,"column":2147}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":217,"column":6},"generated":{"line":1,"column":2149}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":220,"column":8},"generated":{"line":1,"column":2150}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":221,"column":10},"generated":{"line":1,"column":2163}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":222,"column":8},"generated":{"line":1,"column":2302}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":222,"column":15},"generated":{"line":1,"column":2308}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":222,"column":22},"generated":{"line":1,"column":2310}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":223,"column":8},"generated":{"line":1,"column":2316}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":223,"column":20},"generated":{"line":1,"column":2327}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":1,"column":2335}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":225,"column":8},"generated":{"line":1,"column":2336}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":225,"column":16},"generated":{"line":1,"column":2344}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":230,"column":4},"generated":{"line":1,"column":2348}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":230,"column":8},"generated":{"line":1,"column":2350}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":230,"column":21},"generated":{"line":1,"column":2363}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":230,"column":28},"generated":{"line":1,"column":2370}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":231,"column":10},"generated":{"line":1,"column":2384}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":231,"column":15},"generated":{"line":1,"column":2389}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":231,"column":30},"generated":{"line":1,"column":2404}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":232,"column":6},"generated":{"line":1,"column":2415}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":233,"column":6},"generated":{"line":1,"column":2417}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":234,"column":8},"generated":{"line":1,"column":2418}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":234,"column":21},"generated":{"line":1,"column":2430}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":234,"column":25},"generated":{"line":1,"column":2432}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":235,"column":8},"generated":{"line":1,"column":2443}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":235,"column":17},"generated":{"line":1,"column":2451}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":235,"column":24},"generated":{"line":1,"column":2453}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":237,"column":6},"generated":{"line":1,"column":2462}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":238,"column":8},"generated":{"line":1,"column":2463}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":238,"column":16},"generated":{"line":1,"column":2471}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":245,"column":6},"generated":{"line":1,"column":2475}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":244,"column":6},"generated":{"line":1,"column":2485}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":244,"column":13},"generated":{"line":1,"column":2492}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":244,"column":26},"generated":{"line":1,"column":2505}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":244,"column":34},"generated":{"line":1,"column":2513}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":247,"column":12},"generated":{"line":1,"column":2559}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":248,"column":8},"generated":{"line":1,"column":2561}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":248,"column":15},"generated":{"line":1,"column":2563}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":249,"column":8},"generated":{"line":1,"column":2569}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":250,"column":8},"generated":{"line":1,"column":2571}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":250,"column":13},"generated":{"line":1,"column":2576}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":4},"generated":{"line":1,"column":2592}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":10},"generated":{"line":1,"column":2598}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":30},"generated":{"line":1,"column":2606}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":35},"generated":{"line":1,"column":2611}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":54},"generated":{"line":1,"column":2630}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":254,"column":58},"generated":{"line":1,"column":2634}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":255,"column":4},"generated":{"line":1,"column":2637}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":255,"column":9},"generated":{"line":1,"column":2641}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":256,"column":6},"generated":{"line":1,"column":2643}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":256,"column":12},"generated":{"line":1,"column":2649}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":256,"column":16},"generated":{"line":1,"column":2653}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":256,"column":54},"generated":{"line":1,"column":2691}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":259,"column":4},"generated":{"line":1,"column":2698}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":259,"column":11},"generated":{"line":1,"column":2705}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":259,"column":18},"generated":{"line":1,"column":2712}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":259,"column":25},"generated":{"line":1,"column":2719}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":259,"column":38},"generated":{"line":1,"column":2721}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":260,"column":6},"generated":{"line":1,"column":2722}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":260,"column":13},"generated":{"line":1,"column":2728}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":261,"column":6},"generated":{"line":1,"column":2730}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":262,"column":36},"generated":{"line":1,"column":2745}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":262,"column":15},"generated":{"line":1,"column":2762}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":262,"column":22},"generated":{"line":1,"column":2764}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":263,"column":12},"generated":{"line":1,"column":2774}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":263,"column":47},"generated":{"line":1,"column":2776}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":263,"column":28},"generated":{"line":1,"column":2780}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":263,"column":35},"generated":{"line":1,"column":2782}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":264,"column":12},"generated":{"line":1,"column":2792}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":2800}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":2808}},{"source":"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts","name":null,"original":{"line":106,"column":0},"generated":{"line":1,"column":2832}}],"sources":{"../../../../src/login/oidc/redirectHandler/AuthCodeRedirectHandler.ts":"/*\n * Copyright 2021 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport {\n  buildAuthenticatedFetch,\n  IClient,\n  IClientRegistrar,\n  IIssuerConfigFetcher,\n  IRedirectHandler,\n  ISessionInfo,\n  ISessionInfoManager,\n  IStorageUtility,\n  ITokenRefresher,\n  RefreshOptions,\n} from \"@inrupt/solid-client-authn-core\";\nimport {\n  getDpopToken,\n  getBearerToken,\n  CodeExchangeResult,\n} from \"@inrupt/oidc-client-ext\";\nimport { EventEmitter } from \"events\";\nimport { KEY_CURRENT_SESSION } from \"../../../constant\";\n\n// A lifespan of 30 minutes is ESS's default. This could be removed if we\n// configure the server to return the remaining lifespan of the cookie.\nexport const DEFAULT_LIFESPAN = 30 * 60 * 1000;\n\n/**\n * Stores the resource server session information in local storage, so that they\n * can be used on refresh.\n * @param webId\n * @param authenticatedFetch\n * @param storageUtility\n */\nasync function setupResourceServerSession(\n  webId: string,\n  authenticatedFetch: typeof fetch,\n  storageUtility: IStorageUtility\n): Promise<void> {\n  const webIdAsUrl = new URL(webId);\n  const resourceServerIri = webIdAsUrl.origin;\n  // Querying the /session endpoint does not set the cookie, but issuing an\n  // authenticated request to any actual resource (even public ones) does,\n  // so we fetch the user's WebID before checking the /session endpoint.\n  await authenticatedFetch(webId);\n  try {\n    const resourceServerResponse = await authenticatedFetch(\n      `${resourceServerIri}/session`\n    );\n\n    if (resourceServerResponse.status === 200) {\n      await storageUtility.storeResourceServerSessionInfo(\n        webId,\n        resourceServerIri,\n        // Note that here, if the lifespan of the cookie was returned by the\n        // server, we'd expect a relative value (the remaining time of validity)\n        // rather than an absolute one (the moment when the cookie expires).\n        Date.now() + DEFAULT_LIFESPAN\n      );\n      return;\n    }\n    // In this case, the resource server either:\n    // - does not have the expected endpoint, or\n    // - does not recognize the user\n    // Either way, no cookie is expected to be set there, and any existing\n    // session information should be cleared.\n    await storageUtility.clearResourceServerSessionInfo(resourceServerIri);\n  } catch (_e) {\n    // Setting the `credentials=include` option on fetch, which is required in\n    // the current approach based on a RS cookie, may result in an error if\n    // attempting to access an URL, depending on the CORS policies.\n    // Since this internal fetch is necessary, and out of control of the\n    // calling library, there is no other solution but to swallow the exception.\n    // This may happen depending on how the target RS handles a request to the\n    // /session endpoint.\n    await storageUtility.clearResourceServerSessionInfo(resourceServerIri);\n  }\n}\n\n/**\n * @hidden\n */\nexport class AuthCodeRedirectHandler implements IRedirectHandler {\n  constructor(\n    private storageUtility: IStorageUtility,\n    private sessionInfoManager: ISessionInfoManager,\n    private issuerConfigFetcher: IIssuerConfigFetcher,\n    private clientRegistrar: IClientRegistrar,\n    private tokerRefresher: ITokenRefresher\n  ) {}\n\n  async canHandle(redirectUrl: string): Promise<boolean> {\n    try {\n      const myUrl = new URL(redirectUrl);\n      return (\n        myUrl.searchParams.get(\"code\") !== null &&\n        myUrl.searchParams.get(\"state\") !== null\n      );\n    } catch (e) {\n      throw new Error(\n        `[${redirectUrl}] is not a valid URL, and cannot be used as a redirect URL: ${e.toString()}`\n      );\n    }\n  }\n\n  async handle(\n    redirectUrl: string,\n    eventEmitter?: EventEmitter\n  ): Promise<ISessionInfo & { fetch: typeof fetch }> {\n    if (!(await this.canHandle(redirectUrl))) {\n      throw new Error(\n        `AuthCodeRedirectHandler cannot handle [${redirectUrl}]: it is missing one of [code, state].`\n      );\n    }\n\n    const url = new URL(redirectUrl);\n    const oauthState = url.searchParams.get(\"state\") as string;\n\n    const storedSessionId = (await this.storageUtility.getForUser(\n      oauthState,\n      \"sessionId\",\n      {\n        errorIfNull: true,\n      }\n    )) as string;\n    const isDpop =\n      (await this.storageUtility.getForUser(storedSessionId, \"dpop\")) ===\n      \"true\";\n\n    // Since we throw if not found, the type assertion is okay\n    const issuer = (await this.storageUtility.getForUser(\n      storedSessionId,\n      \"issuer\",\n      { errorIfNull: true }\n    )) as string;\n\n    // Store the current session ID specifically in 'localStorage' (i.e., not using\n    // any other storage mechanism), as we don't deem this information to be\n    // sensitive, and we want to ensure it survives a browser tab refresh.\n    window.localStorage.setItem(KEY_CURRENT_SESSION, storedSessionId);\n\n    const issuerConfig = await this.issuerConfigFetcher.fetchConfig(issuer);\n    const client: IClient = await this.clientRegistrar.getClient(\n      { sessionId: storedSessionId },\n      issuerConfig\n    );\n\n    let tokens: CodeExchangeResult;\n    const referenceTime = Date.now();\n\n    if (isDpop) {\n      const codeVerifier = (await this.storageUtility.getForUser(\n        storedSessionId,\n        \"codeVerifier\",\n        { errorIfNull: true }\n      )) as string;\n\n      const storedRedirectIri = (await this.storageUtility.getForUser(\n        storedSessionId,\n        \"redirectUrl\",\n        { errorIfNull: true }\n      )) as string;\n\n      tokens = await getDpopToken(issuerConfig, client, {\n        grantType: \"authorization_code\",\n        // We rely on our 'canHandle' function checking that the OAuth 'code'\n        // parameter is present in our query string.\n        code: url.searchParams.get(\"code\") as string,\n        codeVerifier,\n        redirectUrl: storedRedirectIri,\n      });\n    } else {\n      tokens = await getBearerToken(url.toString());\n    }\n\n    let refreshOptions: RefreshOptions | undefined;\n    if (tokens.refreshToken !== undefined) {\n      refreshOptions = {\n        sessionId: storedSessionId,\n        refreshToken: tokens.refreshToken,\n        tokenRefresher: this.tokerRefresher,\n      };\n    }\n\n    const authFetch = await buildAuthenticatedFetch(fetch, tokens.accessToken, {\n      dpopKey: tokens.dpopKey,\n      refreshOptions,\n      eventEmitter,\n      expiresIn: tokens.expiresIn,\n    });\n\n    await this.storageUtility.setForUser(\n      storedSessionId,\n      {\n        // TODO: We need a PR to oidc-client-js to add parsing of the\n        //  refresh_token from the redirect URL.\n        refreshToken:\n          \"<Refresh token that *is* coming back in the redirect URL is not yet being parsed and provided by oidc-client-js in it's response object>\",\n        webId: tokens.webId,\n        isLoggedIn: \"true\",\n      },\n      { secure: true }\n    );\n    // Clear the code query param from the redirect URL before storing it, but\n    // preserve any state that my have been provided by the client and returned\n    // by the IdP.\n    url.searchParams.delete(\"code\");\n    await this.storageUtility.setForUser(\n      storedSessionId,\n      {\n        redirectUrl: url.toString(),\n        idToken: tokens.idToken,\n      },\n      {\n        secure: false,\n      }\n    );\n    // TODO: This is a temporary workaround. When deprecating the cookie-based auth,\n    // this should be all cleared.\n    const essWorkaroundDisabled =\n      window.localStorage.getItem(\"tmp-resource-server-session-enabled\") ===\n      \"false\";\n    if (!essWorkaroundDisabled) {\n      await setupResourceServerSession(\n        tokens.webId,\n        authFetch,\n        this.storageUtility\n      );\n    }\n\n    const sessionInfo = await this.sessionInfoManager.get(storedSessionId);\n    if (!sessionInfo) {\n      throw new Error(`Could not retrieve session: [${storedSessionId}].`);\n    }\n\n    return Object.assign(sessionInfo, {\n      fetch: authFetch,\n      expirationDate:\n        typeof tokens.expiresIn === \"number\"\n          ? referenceTime + tokens.expiresIn * 1000\n          : null,\n    });\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"1da2b5f8f71ea6d1e354080413de8364","cacheData":{"env":{}}}