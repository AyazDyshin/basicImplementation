{"id":"FKFp","dependencies":[{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js.map","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\src\\sessionInfo\\SessionInfoManager.ts","includedInParent":true,"mtime":499162500000},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\package.json","includedInParent":true,"mtime":1632614243327},{"name":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\package.json","includedInParent":true,"mtime":1632612132843},{"name":"@inrupt/solid-client-authn-core","loc":{"line":4,"column":42},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-core\\dist\\index.js"},{"name":"uuid","loc":{"line":5,"column":23},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\uuid\\dist\\esm-browser\\index.js"},{"name":"@inrupt/oidc-client-ext","loc":{"line":6,"column":34},"parent":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\solid-client-authn-browser\\dist\\sessionInfo\\SessionInfoManager.js","resolved":"C:\\Users\\Shadthepro\\Desktop\\my-demo-app\\node_modules\\@inrupt\\oidc-client-ext\\dist\\index.es.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SessionInfoManager=exports.clear=exports.getUnauthenticatedSession=void 0;const e=require(\"@inrupt/solid-client-authn-core\"),t=require(\"uuid\"),r=require(\"@inrupt/oidc-client-ext\");function s(){return{isLoggedIn:!1,sessionId:t.v4(),fetch:fetch}}async function i(e,t){const s=await t.get(\"tmp-resource-server-session-info\"),i=JSON.parse(null!=s?s:\"{}\"),{webId:o}=i;if(void 0!==o){const e=new URL(o).origin;await t.clearResourceServerSessionInfo(e)}await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0}),t.delete(\"clientKey\",{secure:!1})]),await r.clearOidcPersistentStorage()}exports.getUnauthenticatedSession=s,exports.clear=i;class o{constructor(e){this.storageUtility=e}update(e,t){throw new Error(\"Not Implemented\")}async get(t){var r;const s=await this.storageUtility.getForUser(t,\"isLoggedIn\",{secure:!0}),i=await this.storageUtility.getForUser(t,\"webId\",{secure:!0}),o=await this.storageUtility.getForUser(t,\"clientId\",{secure:!1}),n=await this.storageUtility.getForUser(t,\"clientSecret\",{secure:!1}),a=await this.storageUtility.getForUser(t,\"idToken\",{secure:!1}),c=await this.storageUtility.getForUser(t,\"redirectUrl\",{secure:!1}),l=await this.storageUtility.getForUser(t,\"refreshToken\",{secure:!0}),d=await this.storageUtility.getForUser(t,\"issuer\",{secure:!1}),u=null!==(r=await this.storageUtility.getForUser(t,\"tokenType\",{secure:!1}))&&void 0!==r?r:\"DPoP\";if(!e.isSupportedTokenType(u))throw new Error(`Tokens of type [${u}] are not supported.`);if(void 0!==o||void 0!==a||void 0!==s||void 0!==i||void 0!==l)return{sessionId:t,webId:i,isLoggedIn:\"true\"===s,redirectUrl:c,idToken:a,refreshToken:l,issuer:d,clientAppId:o,clientAppSecret:n,tokenType:u}}async getAll(){throw new Error(\"Not implemented\")}async clear(e){return i(e,this.storageUtility)}async register(e){throw new Error(\"Not implemented\")}async getRegisteredSessionIdAll(){throw new Error(\"Not implemented\")}async clearAll(){throw new Error(\"Not implemented\")}}exports.SessionInfoManager=o;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":150}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":156}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":158}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":27,"column":0},"generated":{"line":1,"column":166}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":201}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":203}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":35,"column":0},"generated":{"line":1,"column":211}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":219}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":221}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":36,"column":0},"generated":{"line":1,"column":229}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":256}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":38,"column":16},"generated":{"line":1,"column":265}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":41,"column":2},"generated":{"line":1,"column":269}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":41,"column":9},"generated":{"line":1,"column":275}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":276}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":42,"column":16},"generated":{"line":1,"column":288}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":290}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":300}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":302}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":307}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":44,"column":4},"generated":{"line":1,"column":313}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":53,"column":7},"generated":{"line":1,"column":320}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":53,"column":22},"generated":{"line":1,"column":335}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":54,"column":2},"generated":{"line":1,"column":337}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":1,"column":339}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":342}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":57,"column":8},"generated":{"line":1,"column":348}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":57,"column":45},"generated":{"line":1,"column":356}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":57,"column":53},"generated":{"line":1,"column":358}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":362}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":398}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":20},"generated":{"line":1,"column":400}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":25},"generated":{"line":1,"column":405}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":31},"generated":{"line":1,"column":411}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":31},"generated":{"line":1,"column":417}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":31},"generated":{"line":1,"column":419}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":60,"column":63},"generated":{"line":1,"column":421}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":61,"column":8},"generated":{"line":1,"column":428}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":434}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":61,"column":20},"generated":{"line":1,"column":437}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":439}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":62,"column":16},"generated":{"line":1,"column":447}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":451}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":62,"column":27},"generated":{"line":1,"column":453}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":454}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":64,"column":10},"generated":{"line":1,"column":460}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":63,"column":23},"generated":{"line":1,"column":462}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":63,"column":27},"generated":{"line":1,"column":466}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":63,"column":31},"generated":{"line":1,"column":470}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":64,"column":41},"generated":{"line":1,"column":473}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":65,"column":10},"generated":{"line":1,"column":486}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":65,"column":18},"generated":{"line":1,"column":488}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":65,"column":49},"generated":{"line":1,"column":519}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":67,"column":8},"generated":{"line":1,"column":528}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":67,"column":16},"generated":{"line":1,"column":536}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":67,"column":20},"generated":{"line":1,"column":540}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":541}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":12},"generated":{"line":1,"column":543}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":30},"generated":{"line":1,"column":561}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":41},"generated":{"line":1,"column":563}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":43},"generated":{"line":1,"column":564}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":68,"column":51},"generated":{"line":1,"column":572}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":4},"generated":{"line":1,"column":576}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":12},"generated":{"line":1,"column":578}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":30},"generated":{"line":1,"column":596}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":41},"generated":{"line":1,"column":598}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":43},"generated":{"line":1,"column":599}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":69,"column":51},"generated":{"line":1,"column":607}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":611}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":12},"generated":{"line":1,"column":613}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":620}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":632}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":34},"generated":{"line":1,"column":633}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":71,"column":42},"generated":{"line":1,"column":641}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":653}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":655}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":684}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":692}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":38,"column":0},"generated":{"line":1,"column":718}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":720}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":728}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":53,"column":0},"generated":{"line":1,"column":734}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":79,"column":0},"generated":{"line":1,"column":736}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":742}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":80,"column":2},"generated":{"line":1,"column":744}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":756}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":759}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":764}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":80,"column":22},"generated":{"line":1,"column":779}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":781}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":84,"column":4},"generated":{"line":1,"column":788}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":85,"column":4},"generated":{"line":1,"column":790}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":118,"column":4},"generated":{"line":1,"column":793}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":118,"column":10},"generated":{"line":1,"column":799}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":118,"column":14},"generated":{"line":1,"column":803}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":809}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":121,"column":2},"generated":{"line":1,"column":828}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":122,"column":4},"generated":{"line":1,"column":838}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":124,"column":4},"generated":{"line":1,"column":847}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":124,"column":10},"generated":{"line":1,"column":853}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":124,"column":29},"generated":{"line":1,"column":861}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":124,"column":34},"generated":{"line":1,"column":866}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":124,"column":49},"generated":{"line":1,"column":881}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":892}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":126,"column":6},"generated":{"line":1,"column":894}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":907}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":128,"column":8},"generated":{"line":1,"column":908}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":128,"column":16},"generated":{"line":1,"column":916}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":10},"generated":{"line":1,"column":920}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":24},"generated":{"line":1,"column":928}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":29},"generated":{"line":1,"column":933}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":44},"generated":{"line":1,"column":948}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":55},"generated":{"line":1,"column":959}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":66},"generated":{"line":1,"column":961}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":132,"column":75},"generated":{"line":1,"column":969}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":133,"column":6},"generated":{"line":1,"column":970}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":133,"column":14},"generated":{"line":1,"column":978}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":136,"column":10},"generated":{"line":1,"column":982}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":136,"column":27},"generated":{"line":1,"column":990}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":136,"column":32},"generated":{"line":1,"column":995}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":136,"column":47},"generated":{"line":1,"column":1010}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":137,"column":6},"generated":{"line":1,"column":1021}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":138,"column":6},"generated":{"line":1,"column":1023}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":139,"column":6},"generated":{"line":1,"column":1034}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":140,"column":8},"generated":{"line":1,"column":1035}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":140,"column":16},"generated":{"line":1,"column":1043}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":144,"column":10},"generated":{"line":1,"column":1047}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":144,"column":31},"generated":{"line":1,"column":1055}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":144,"column":36},"generated":{"line":1,"column":1060}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":144,"column":51},"generated":{"line":1,"column":1075}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":145,"column":6},"generated":{"line":1,"column":1086}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":146,"column":6},"generated":{"line":1,"column":1088}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":147,"column":6},"generated":{"line":1,"column":1103}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":148,"column":8},"generated":{"line":1,"column":1104}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":148,"column":16},"generated":{"line":1,"column":1112}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":10},"generated":{"line":1,"column":1116}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":26},"generated":{"line":1,"column":1124}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":31},"generated":{"line":1,"column":1129}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":46},"generated":{"line":1,"column":1144}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":57},"generated":{"line":1,"column":1155}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":68},"generated":{"line":1,"column":1157}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":152,"column":79},"generated":{"line":1,"column":1167}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":153,"column":6},"generated":{"line":1,"column":1168}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":153,"column":14},"generated":{"line":1,"column":1176}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":156,"column":10},"generated":{"line":1,"column":1180}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":156,"column":30},"generated":{"line":1,"column":1188}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":156,"column":35},"generated":{"line":1,"column":1193}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":156,"column":50},"generated":{"line":1,"column":1208}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":157,"column":6},"generated":{"line":1,"column":1219}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":158,"column":6},"generated":{"line":1,"column":1221}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":159,"column":6},"generated":{"line":1,"column":1235}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":160,"column":8},"generated":{"line":1,"column":1236}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":160,"column":16},"generated":{"line":1,"column":1244}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":164,"column":10},"generated":{"line":1,"column":1248}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":164,"column":31},"generated":{"line":1,"column":1256}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":164,"column":36},"generated":{"line":1,"column":1261}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":164,"column":51},"generated":{"line":1,"column":1276}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":165,"column":6},"generated":{"line":1,"column":1287}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":166,"column":6},"generated":{"line":1,"column":1289}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":167,"column":6},"generated":{"line":1,"column":1304}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":168,"column":8},"generated":{"line":1,"column":1305}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":168,"column":16},"generated":{"line":1,"column":1313}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":10},"generated":{"line":1,"column":1317}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":25},"generated":{"line":1,"column":1325}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":30},"generated":{"line":1,"column":1330}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":45},"generated":{"line":1,"column":1345}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":56},"generated":{"line":1,"column":1356}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":67},"generated":{"line":1,"column":1358}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":172,"column":77},"generated":{"line":1,"column":1367}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":173,"column":6},"generated":{"line":1,"column":1368}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":173,"column":14},"generated":{"line":1,"column":1376}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":176,"column":10},"generated":{"line":1,"column":1380}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":179,"column":9},"generated":{"line":1,"column":1382}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":6},"generated":{"line":1,"column":1390}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":13},"generated":{"line":1,"column":1398}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":18},"generated":{"line":1,"column":1403}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":33},"generated":{"line":1,"column":1418}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":44},"generated":{"line":1,"column":1429}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":55},"generated":{"line":1,"column":1431}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":177,"column":68},"generated":{"line":1,"column":1443}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":178,"column":8},"generated":{"line":1,"column":1444}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":178,"column":16},"generated":{"line":1,"column":1452}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":179,"column":9},"generated":{"line":1,"column":1463}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":179,"column":9},"generated":{"line":1,"column":1467}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":179,"column":9},"generated":{"line":1,"column":1469}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":179,"column":13},"generated":{"line":1,"column":1471}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":181,"column":4},"generated":{"line":1,"column":1478}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":181,"column":9},"generated":{"line":1,"column":1482}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":181,"column":9},"generated":{"line":1,"column":1484}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":181,"column":30},"generated":{"line":1,"column":1505}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":182,"column":6},"generated":{"line":1,"column":1508}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":182,"column":12},"generated":{"line":1,"column":1514}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":182,"column":16},"generated":{"line":1,"column":1518}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":182,"column":41},"generated":{"line":1,"column":1543}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":185,"column":4},"generated":{"line":1,"column":1568}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":186,"column":19},"generated":{"line":1,"column":1576}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":186,"column":6},"generated":{"line":1,"column":1580}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":187,"column":18},"generated":{"line":1,"column":1588}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":187,"column":6},"generated":{"line":1,"column":1592}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":188,"column":21},"generated":{"line":1,"column":1600}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":188,"column":6},"generated":{"line":1,"column":1604}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":189,"column":16},"generated":{"line":1,"column":1612}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":189,"column":6},"generated":{"line":1,"column":1616}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":190,"column":23},"generated":{"line":1,"column":1624}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":190,"column":6},"generated":{"line":1,"column":1628}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":195,"column":4},"generated":{"line":1,"column":1630}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":195,"column":11},"generated":{"line":1,"column":1636}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":196,"column":6},"generated":{"line":1,"column":1637}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":196,"column":6},"generated":{"line":1,"column":1647}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":197,"column":6},"generated":{"line":1,"column":1649}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":197,"column":6},"generated":{"line":1,"column":1655}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":198,"column":6},"generated":{"line":1,"column":1657}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":198,"column":33},"generated":{"line":1,"column":1668}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":198,"column":18},"generated":{"line":1,"column":1677}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":199,"column":6},"generated":{"line":1,"column":1679}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":199,"column":6},"generated":{"line":1,"column":1691}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":200,"column":6},"generated":{"line":1,"column":1693}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":200,"column":6},"generated":{"line":1,"column":1701}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":201,"column":6},"generated":{"line":1,"column":1703}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":201,"column":6},"generated":{"line":1,"column":1716}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":202,"column":6},"generated":{"line":1,"column":1718}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":202,"column":6},"generated":{"line":1,"column":1725}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":203,"column":6},"generated":{"line":1,"column":1727}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":203,"column":19},"generated":{"line":1,"column":1739}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":204,"column":6},"generated":{"line":1,"column":1741}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":204,"column":23},"generated":{"line":1,"column":1757}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":205,"column":6},"generated":{"line":1,"column":1759}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":205,"column":6},"generated":{"line":1,"column":1769}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":210,"column":2},"generated":{"line":1,"column":1772}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":211,"column":4},"generated":{"line":1,"column":1787}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":211,"column":10},"generated":{"line":1,"column":1793}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":211,"column":14},"generated":{"line":1,"column":1797}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":211,"column":20},"generated":{"line":1,"column":1803}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":220,"column":2},"generated":{"line":1,"column":1822}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":220,"column":14},"generated":{"line":1,"column":1834}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":221,"column":4},"generated":{"line":1,"column":1837}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":221,"column":11},"generated":{"line":1,"column":1844}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":221,"column":17},"generated":{"line":1,"column":1846}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":221,"column":28},"generated":{"line":1,"column":1848}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":221,"column":33},"generated":{"line":1,"column":1853}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":228,"column":2},"generated":{"line":1,"column":1869}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":228,"column":17},"generated":{"line":1,"column":1884}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":229,"column":4},"generated":{"line":1,"column":1887}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":229,"column":10},"generated":{"line":1,"column":1893}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":229,"column":14},"generated":{"line":1,"column":1897}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":229,"column":20},"generated":{"line":1,"column":1903}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":236,"column":2},"generated":{"line":1,"column":1922}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":237,"column":4},"generated":{"line":1,"column":1956}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":237,"column":10},"generated":{"line":1,"column":1962}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":237,"column":14},"generated":{"line":1,"column":1966}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":237,"column":20},"generated":{"line":1,"column":1972}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":243,"column":2},"generated":{"line":1,"column":1991}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":244,"column":4},"generated":{"line":1,"column":2008}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":244,"column":10},"generated":{"line":1,"column":2014}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":244,"column":14},"generated":{"line":1,"column":2018}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":244,"column":20},"generated":{"line":1,"column":2024}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":79,"column":0},"generated":{"line":1,"column":2044}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":79,"column":0},"generated":{"line":1,"column":2052}},{"source":"../../src/sessionInfo/SessionInfoManager.ts","name":null,"original":{"line":79,"column":0},"generated":{"line":1,"column":2071}}],"sources":{"../../src/sessionInfo/SessionInfoManager.ts":"/*\n * Copyright 2021 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/**\n * @hidden\n * @packageDocumentation\n */\n\nimport {\n  ISessionInfo,\n  ISessionInfoManager,\n  ISessionInternalInfo,\n  ISessionInfoManagerOptions,\n  IStorageUtility,\n  isSupportedTokenType,\n} from \"@inrupt/solid-client-authn-core\";\nimport { v4 } from \"uuid\";\nimport { clearOidcPersistentStorage } from \"@inrupt/oidc-client-ext\";\n\nexport function getUnauthenticatedSession(): ISessionInfo & {\n  fetch: typeof fetch;\n} {\n  return {\n    isLoggedIn: false,\n    sessionId: v4(),\n    fetch,\n  };\n}\n\n/**\n * @param sessionId\n * @param storage\n * @hidden\n */\nexport async function clear(\n  sessionId: string,\n  storage: IStorageUtility\n): Promise<void> {\n  const storedSessionCookieReference = await storage.get(\n    \"tmp-resource-server-session-info\"\n  );\n  const reference = JSON.parse(storedSessionCookieReference ?? \"{}\");\n  const { webId } = reference;\n  if (webId !== undefined) {\n    const webIdAsUrl = new URL(webId);\n    const resourceServerIri = webIdAsUrl.origin;\n    await storage.clearResourceServerSessionInfo(resourceServerIri);\n  }\n  await Promise.all([\n    storage.deleteAllUserData(sessionId, { secure: false }),\n    storage.deleteAllUserData(sessionId, { secure: true }),\n    // FIXME: This is needed until the DPoP key is stored safely\n    storage.delete(\"clientKey\", { secure: false }),\n  ]);\n  await clearOidcPersistentStorage();\n}\n\n/**\n * @hidden\n */\nexport class SessionInfoManager implements ISessionInfoManager {\n  constructor(private storageUtility: IStorageUtility) {}\n\n  // eslint-disable-next-line class-methods-use-this\n  update(\n    _sessionId: string,\n    _options: ISessionInfoManagerOptions\n  ): Promise<void> {\n    // const localUserId: string = options.localUserId || this.uuidGenerator.v4();\n    // if (options.loggedIn) {\n    //   return {\n    //     sessionId,\n    //     loggedIn: true,\n    //     webId: options.webId as string,\n    //     neededAction: options.neededAction || { actionType: \"inaction\" },\n    //     state: options.state,\n    //     logout: async (): Promise<void> => {\n    //       // TODO: handle if webid isn't here\n    //       return this.logoutHandler.handle(localUserId);\n    //     },\n    //     fetch: (url: RequestInfo, init?: RequestInit): Promise<Response> => {\n    //       // TODO: handle if webid isn't here\n    //       return this.authenticatedFetcher.handle(\n    //         {\n    //           localUserId,\n    //           type: \"dpop\"\n    //         },\n    //         url,\n    //         init\n    //       );\n    //     }\n    //   };\n    // } else {\n    //   return {\n    //     localUserId,\n    //     loggedIn: false,\n    //     neededAction: options.neededAction || { actionType: \"inaction\" }\n    //   };\n    // }\n    throw new Error(\"Not Implemented\");\n  }\n\n  async get(\n    sessionId: string\n  ): Promise<(ISessionInfo & ISessionInternalInfo) | undefined> {\n    const isLoggedIn = await this.storageUtility.getForUser(\n      sessionId,\n      \"isLoggedIn\",\n      {\n        secure: true,\n      }\n    );\n\n    const webId = await this.storageUtility.getForUser(sessionId, \"webId\", {\n      secure: true,\n    });\n\n    const clientId = await this.storageUtility.getForUser(\n      sessionId,\n      \"clientId\",\n      {\n        secure: false,\n      }\n    );\n\n    const clientSecret = await this.storageUtility.getForUser(\n      sessionId,\n      \"clientSecret\",\n      {\n        secure: false,\n      }\n    );\n\n    const idToken = await this.storageUtility.getForUser(sessionId, \"idToken\", {\n      secure: false,\n    });\n\n    const redirectUrl = await this.storageUtility.getForUser(\n      sessionId,\n      \"redirectUrl\",\n      {\n        secure: false,\n      }\n    );\n\n    const refreshToken = await this.storageUtility.getForUser(\n      sessionId,\n      \"refreshToken\",\n      {\n        secure: true,\n      }\n    );\n\n    const issuer = await this.storageUtility.getForUser(sessionId, \"issuer\", {\n      secure: false,\n    });\n\n    const tokenType =\n      (await this.storageUtility.getForUser(sessionId, \"tokenType\", {\n        secure: false,\n      })) ?? \"DPoP\";\n\n    if (!isSupportedTokenType(tokenType)) {\n      throw new Error(`Tokens of type [${tokenType}] are not supported.`);\n    }\n\n    if (\n      clientId === undefined &&\n      idToken === undefined &&\n      isLoggedIn === undefined &&\n      webId === undefined &&\n      refreshToken === undefined\n    ) {\n      return undefined;\n    }\n\n    return {\n      sessionId,\n      webId,\n      isLoggedIn: isLoggedIn === \"true\",\n      redirectUrl,\n      idToken,\n      refreshToken,\n      issuer,\n      clientAppId: clientId,\n      clientAppSecret: clientSecret,\n      tokenType,\n    };\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getAll(): Promise<(ISessionInfo & ISessionInternalInfo)[]> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * This function removes all session-related information from storage.\n   * @param sessionId the session identifier\n   * @param storage the storage where session info is stored\n   * @hidden\n   */\n  async clear(sessionId: string): Promise<void> {\n    return clear(sessionId, this.storageUtility);\n  }\n\n  /**\n   * Registers a new session, so that its ID can be retrieved.\n   * @param sessionId\n   */\n  async register(_sessionId: string): Promise<void> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * Returns all the registered session IDs. Differs from getAll, which also\n   * returns additional session information.\n   */\n  async getRegisteredSessionIdAll(): Promise<string[]> {\n    throw new Error(\"Not implemented\");\n  }\n\n  /**\n   * Deletes all information about all sessions, including their registrations.\n   */\n  async clearAll(): Promise<void> {\n    throw new Error(\"Not implemented\");\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"e6303e38949085d933387f1d72a03465","cacheData":{"env":{}}}